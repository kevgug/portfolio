/* KaTeX styles for LaTeX rendering */
@import "katex/dist/katex.min.css";

@tailwind base;
@tailwind components;
@tailwind utilities;

@layer base {
  html {
    @apply bg-background text-white;
  }

  body {
    @apply bg-background;
  }

  /* Global text styles */
  p,
  h1,
  h2,
  li {
    @apply text-white;
  }

  h1 {
    @apply text-2xl;
    @apply font-semibold;
    @apply md:text-3xl;
    @apply xl:text-4xl;
    @apply leading-tight;
  }

  h2 {
    @apply text-base;
    @apply md:text-lg;
  }

  p,
  li,
  a {
    @apply text-sm;
    @apply md:text-base;
  }

  a {
    @apply cursor-pointer;
    @apply text-glacial-blue;
  }

  /* Solid underline for links in article paragraphs */
  article a {
    color: #a9f4e9;
    background-image: linear-gradient(to right, #a9f4e9, #a9f4e9);
    background-position: 0% 100%;
    background-repeat: no-repeat;
    background-size: 100% 1px;
    text-decoration: none;
    transition: color 0.2s ease, background-size 0.2s ease,
      background-image 0.2s ease;
  }

  article a:hover {
    color: black;
    background-image: linear-gradient(to right, #a9f4e9, #a9f4e9);
    background-size: 100% 100%;
  }

  button {
    @apply text-sm;
    @apply md:text-base;
  }

  img {
    /* For alt text */
    @apply text-glacial-blue;
  }

  /* List item styling */
  li {
    @apply font-serif;
    @apply list-none;
    @apply relative; /* positioning context for bullet */
  }

  li:not(:last-child) {
    @apply mb-[0.65rem] lg:mb-3;
  }

  li::before {
    content: "";
    font-size: 2.5em; /* the default unicode bullet size is very small */
    line-height: 0; /* kills huge line height on resized bullet */

    @apply w-1 xl:w-[0.3rem];
    @apply h-1 xl:h-[0.3rem];
    @apply rounded-full;
    @apply bg-bullet-grey;
    @apply opacity-50;
    @apply absolute; /* position bullet relative to list item */
    @apply top-[0.22em] md:top-[0.23em] lg:top-[0.24em] xl:top-[0.23em]; /* vertical align bullet position relative to list item */
    @apply left-[-0.34em] xl:left-[-0.54em]; /* position the bullet L- R relative to list item */
  }

  /* Euclid Square */
  @font-face {
    font-family: "Euclid Square";
    src: url("/fonts/euclid-square/EuclidSquare-Regular-WebXL.woff2")
        format("woff2"),
      url("/fonts/euclid-square/EuclidSquare-Regular-WebXL.woff") format("woff"),
      url("/fonts/euclid-square/EuclidSquare-Regular-WebXL.ttf")
        format("truetype");
    font-weight: normal;
    font-style: normal;
  }
  @font-face {
    font-family: "Euclid Square";
    src: url("/fonts/euclid-square/EuclidSquare-RegularItalic-WebXL.woff2")
        format("woff2"),
      url("/fonts/euclid-square/EuclidSquare-RegularItalic-WebXL.woff")
        format("woff"),
      url("/fonts/euclid-square/EuclidSquare-RegularItalic-WebXL.ttf")
        format("truetype");
    font-weight: normal;
    font-style: italic;
  }
  @font-face {
    font-family: "Euclid Square";
    src: url("/fonts/euclid-square/EuclidSquare-Medium-WebXL.woff2")
        format("woff2"),
      url("/fonts/euclid-square/EuclidSquare-Medium-WebXL.woff") format("woff"),
      url("/fonts/euclid-square/EuclidSquare-Medium-WebXL.ttf")
        format("truetype");
    font-weight: 500;
    font-style: normal;
  }
  @font-face {
    font-family: "Euclid Square";
    src: url("/fonts/euclid-square/EuclidSquare-MediumItalic-WebXL.woff2")
        format("woff2"),
      url("/fonts/euclid-square/EuclidSquare-MediumItalic-WebXL.woff")
        format("woff"),
      url("/fonts/euclid-square/EuclidSquare-MediumItalic-WebXL.ttf")
        format("truetype");
    font-weight: 500;
    font-style: italic;
  }
  @font-face {
    font-family: "Euclid Square";
    src: url("/fonts/euclid-square/EuclidSquare-Semibold-WebXL.woff2")
        format("woff2"),
      url("/fonts/euclid-square/EuclidSquare-Semibold-WebXL.woff")
        format("woff"),
      url("/fonts/euclid-square/EuclidSquare-Semibold-WebXL.ttf")
        format("truetype");
    font-weight: 600;
    font-style: normal;
  }
  @font-face {
    font-family: "Euclid Square";
    src: url("/fonts/euclid-square/EuclidSquare-SemiboldItalic-WebXL.woff2")
        format("woff2"),
      url("/fonts/euclid-square/EuclidSquare-SemiboldItalic-WebXL.woff")
        format("woff"),
      url("/fonts/euclid-square/EuclidSquare-SemiboldItalic-WebXL.ttf")
        format("truetype");
    font-weight: 600;
    font-style: italic;
  }
  @font-face {
    font-family: "Euclid Square";
    src: url("/fonts/euclid-square/EuclidSquare-Bold-WebXL.woff2")
        format("woff2"),
      url("/fonts/euclid-square/EuclidSquare-Bold-WebXL.woff") format("woff"),
      url("/fonts/euclid-square/EuclidSquare-Bold-WebXL.ttf") format("truetype");
    font-weight: bold;
    font-style: normal;
  }
  @font-face {
    font-family: "Euclid Square";
    src: url("/fonts/euclid-square/EuclidSquare-BoldItalic-WebXL.woff2")
        format("woff2"),
      url("/fonts/euclid-square/EuclidSquare-BoldItalic-WebXL.woff")
        format("woff"),
      url("/fonts/euclid-square/EuclidSquare-BoldItalic-WebXL.ttf")
        format("truetype");
    font-weight: bold;
    font-style: italic;
  }

  /* SangBleu Sunrise */
  @font-face {
    font-family: "SangBleu Sunrise";
    src: url("/fonts/sangbleu-sunrise/SangBleuSunrise-Regular-WebXL.woff2")
        format("woff2"),
      url("/fonts/sangbleu-sunrise/SangBleuSunrise-Regular-WebXL.woff")
        format("woff"),
      url("/fonts/sangbleu-sunrise/SangBleuSunrise-Regular-WebXL.ttf")
        format("truetype");
    font-weight: normal;
    font-style: normal;
  }
  @font-face {
    font-family: "SangBleu Sunrise";
    src: url("/fonts/sangbleu-sunrise/SangBleuSunrise-RegularItalic-WebXL.woff2")
        format("woff2"),
      url("/fonts/sangbleu-sunrise/SangBleuSunrise-RegularItalic-WebXL.woff")
        format("woff"),
      url("/fonts/sangbleu-sunrise/SangBleuSunrise-RegularItalic-WebXL.ttf")
        format("truetype");
    font-weight: normal;
    font-style: italic;
  }
  @font-face {
    font-family: "SangBleu Sunrise";
    src: url("/fonts/sangbleu-sunrise/SangBleuSunrise-Medium-WebXL.woff2")
        format("woff2"),
      url("/fonts/sangbleu-sunrise/SangBleuSunrise-Medium-WebXL.woff")
        format("woff"),
      url("/fonts/sangbleu-sunrise/SangBleuSunrise-Medium-WebXL.ttf")
        format("truetype");
    font-weight: 500;
    font-style: normal;
  }
  @font-face {
    font-family: "SangBleu Sunrise";
    src: url("/fonts/sangbleu-sunrise/SangBleuSunrise-MediumItalic-WebXL.woff2")
        format("woff2"),
      url("/fonts/sangbleu-sunrise/SangBleuSunrise-MediumItalic-WebXL.woff")
        format("woff"),
      url("/fonts/sangbleu-sunrise/SangBleuSunrise-MediumItalic-WebXL.ttf")
        format("truetype");
    font-weight: 500;
    font-style: italic;
  }
  @font-face {
    font-family: "SangBleu Sunrise";
    src: url("/fonts/sangbleu-sunrise/SangBleuSunrise-Bold-WebXL.woff2")
        format("woff2"),
      url("/fonts/sangbleu-sunrise/SangBleuSunrise-Bold-WebXL.woff")
        format("woff"),
      url("/fonts/sangbleu-sunrise/SangBleuSunrise-Bold-WebXL.ttf")
        format("truetype");
    font-weight: bold;
    font-style: normal;
  }
  @font-face {
    font-family: "SangBleu Sunrise";
    src: url("/fonts/sangbleu-sunrise/SangBleuSunrise-BoldItalic-WebXL.woff2")
        format("woff2"),
      url("/fonts/sangbleu-sunrise/SangBleuSunrise-BoldItalic-WebXL.woff")
        format("woff"),
      url("/fonts/sangbleu-sunrise/SangBleuSunrise-BoldItalic-WebXL.ttf")
        format("truetype");
    font-weight: bold;
    font-style: italic;
  }
}

@layer components {
  /* Brief glacial-blue background pulse for focus after scrolling */
}

@layer utilities {
  /* Staged highlight behavior */
  .footnote-bg-anim:not(blockquote) {
    transition: background-color 140ms ease-out;
    @apply rounded-xl;
    @apply px-2 mx-[-0.5rem] py-1 my-[-0.25rem];
  }

  .footnote-bg-highlight {
    background-color: rgba(20, 188, 197, 0.174);
  }

  /* List item content wrapper for footnote highlighting */
  li .li-content {
    display: inline;
  }

  /* When the li-content has the footnote background animation, apply the styles */
  li .li-content.footnote-bg-anim {
    display: inline-block;
    vertical-align: top;
    transition: background-color 140ms ease-out;
    @apply rounded-xl;
    @apply px-2 mx-[-0.5rem] py-1 my-[-0.25rem];
  }

  li .li-content.footnote-bg-highlight {
    background-color: rgba(20, 188, 197, 0.174);
  }

  /* LaTeX display containers need different spacing for footnote animation */
  .latex-display-container.footnote-bg-anim {
    @apply px-0 mx-0 py-0 my-4;
  }

  /* Blockquotes - only animate background color, no other styling changes */
  blockquote.footnote-bg-anim {
    transition: background-color 140ms ease-out;
  }
}

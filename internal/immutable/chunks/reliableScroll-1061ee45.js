import{g as f}from"./index-cf87e9ff.js";import{p as l,S as b}from"./ScrollTrigger-9ff9d99e.js";let m=null;function g(e){return new Promise(o=>{const t=new Image;t.onload=()=>o(!0),t.onerror=()=>o(!1);const n={avif:"data:image/avif;base64,AAAAIGZ0eXBhdmlmAAAAAGF2aWZtaWYxbWlhZk1BMUIAAADybWV0YQAAAAAAAAAoaGRscgAAAAAAAAAAcGljdAAAAAAAAAAAAAAAAGxpYmF2aWYAAAAADnBpdG0AAAAAAAEAAAAeaWxvYwAAAABEAAABAAEAAAABAAABGgAAAB0AAAAoaWluZgAAAAAAAQAAABppbmZlAgAAAAABAABhdjAxQ29sb3IAAAAAamlwcnAAAABLaXBjbwAAABRpc3BlAAAAAAAAAAEAAAABAAAAEHBpeGkAAAAAAwgICAAAAAxhdjFDgQ0MAAAAABNjb2xybmNseAACAAIAAYAAAAAXaXBtYQAAAAAAAAABAAEEAQKDBAAAACVtZGF0EgAKCBgABogQEAwgMg8f8D///8WfhwB8+ErK42A=",webp:"data:image/webp;base64,UklGRjoAAABXRUJQVlA4IC4AAACyAgCdASoCAAIALmk0mk0iIiIiIgBoSygABc6WWgAA/veff/0PP8bA//LwYAAA"};t.src=n[e]})}async function E(){if(m)return m;const[e,o]=await Promise.all([g("avif"),g("webp")]);return m={avif:e,webp:o},m}async function x(e){const o=await E();return o.avif&&e.avifSrc?e.avifSrc:o.webp&&e.webpSrc?e.webpSrc:e.src}function u(e){return new Promise((o,t)=>{const n=new Image;n.onload=()=>o(),n.onerror=()=>{console.warn(`Failed to preload image: ${e}`),o()},n.src=e})}async function d(e){const o=await x(e);await u(o)}async function T(e){const o=e.id;if(!o){const r=l.map(s=>d(s.imgOptions));await Promise.all(r),await w();return}const t=l.findIndex(r=>r.id===o);if(t===-1){await v(e);return}const A=Array.from({length:t+1},(r,s)=>s).map(r=>d(l[r].imgOptions));await Promise.all(A),await w()}function S(e){return new Promise(o=>{if(e.complete){o();return}const t=e.loading;e.loading="eager";const n=()=>{e.removeEventListener("load",n),e.removeEventListener("error",n),e.loading=t,o()};if(e.addEventListener("load",n),e.addEventListener("error",n),!e.complete){const A=e.src;e.src="",e.src=A}})}async function w(){const e=document.querySelectorAll('img[loading="lazy"]');if(e.length===0)return;const o=Array.from(e).map(S);await Promise.all(o)}async function v(e){const o=e.querySelectorAll("img"),t=[];o.forEach(r=>{r.src&&t.push(u(r.src)),r.srcset&&r.srcset.split(",").map(a=>a.trim().split(" ")[0]).forEach(a=>{a&&t.push(u(a))})}),e.querySelectorAll("source").forEach(r=>{r.srcset&&r.srcset.split(",").map(a=>a.trim().split(" ")[0]).forEach(a=>{a&&t.push(u(a))})}),await Promise.all(t);const A=e.querySelectorAll('img[loading="lazy"]');if(A.length>0){const r=Array.from(A).map(S);await Promise.all(r)}}function L(e,o,t){const n=e.getBoundingClientRect(),A=window.pageYOffset||document.documentElement.scrollTop;if(t){const r=window.innerHeight/2-n.height/2;return A+n.top-r+o}return A+n.top+o}function W(e){return{"out-expo":"expo.out","in-expo":"expo.in","inout-expo":"expo.inOut","out-quint":"power4.out",outQuint:"power4.out","in-quint":"power4.in","inout-quint":"power4.inOut","out-cubic":"power2.out","in-cubic":"power2.in","inout-cubic":"power2.inOut",linear:"none"}[e]||e}async function F(e,o={}){const{duration:t=1e3,ease:n="out-expo",offset:A=0,onComplete:r,preloadImages:s=!0,centerInViewport:a=!1}=o,c=typeof e=="string"?document.querySelector(e):e;if(!c){console.warn(`Target element not found: ${e}`);return}if(await C(),s){if(c.id&&l.some(i=>i.id===c.id))await T(c);else{const i=l.map(p=>d(p.imgOptions));await Promise.all(i),await w()}await new Promise(i=>setTimeout(i,100)),c.offsetHeight}const I=L(c,A,a),h=Math.max(0,document.body.scrollHeight-window.innerHeight),y=Math.max(0,Math.min(I,h)),B=W(n),P=window.pageYOffset||document.documentElement.scrollTop;return new Promise(i=>{const p={scrollTop:P};f.to(p,{duration:t/1e3,scrollTop:y,ease:B,onUpdate:()=>{window.scrollTo(0,p.scrollTop)},onComplete:()=>{r&&r(),i()},onInterrupt:()=>{console.warn("Scroll animation was interrupted"),i()}})})}async function C(){const e=document.querySelector(".projects-section-on-load");e&&(f.killTweensOf(e),f.set(e,{opacity:1,filter:"blur(0px)",y:0,transform:"translateY(0px)"}),b.refresh()),await new Promise(o=>{requestAnimationFrame(()=>{requestAnimationFrame(()=>{o(void 0)})})}),await new Promise(o=>setTimeout(o,50)),e&&e.offsetHeight}function G(e){const{spacing:o="default"}=e??{};let t=0;return window.innerWidth>=768?t+=80:t+=64,o==="lg"?window.innerWidth>=768?t+=48:t+=36:o==="md"?window.innerWidth>=768?t+=20:t+=16:o==="sm"&&(window.innerWidth>=768?t+=12:t+=8),-t}export{G as g,F as r};

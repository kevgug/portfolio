import"./index-145c7cf7.js";import{g as f}from"./index-cf87e9ff.js";import{p as l,S as P}from"./ScrollTrigger-9ff9d99e.js";function G(e){return e*e*e}function Y(e){const o=e-1;return o*o*o+1}function M(e){return e===0?e:Math.pow(2,10*(e-1))}function Q(e){return e===1?e:1-Math.pow(2,-10*e)}let p=null;function g(e){return new Promise(o=>{const t=new Image;t.onload=()=>o(!0),t.onerror=()=>o(!1);const r={avif:"data:image/avif;base64,AAAAIGZ0eXBhdmlmAAAAAGF2aWZtaWYxbWlhZk1BMUIAAADybWV0YQAAAAAAAAAoaGRscgAAAAAAAAAAcGljdAAAAAAAAAAAAAAAAGxpYmF2aWYAAAAADnBpdG0AAAAAAAEAAAAeaWxvYwAAAABEAAABAAEAAAABAAABGgAAAB0AAAAoaWluZgAAAAAAAQAAABppbmZlAgAAAAABAABhdjAxQ29sb3IAAAAAamlwcnAAAABLaXBjbwAAABRpc3BlAAAAAAAAAAEAAAABAAAAEHBpeGkAAAAAAwgICAAAAAxhdjFDgQ0MAAAAABNjb2xybmNseAACAAIAAYAAAAAXaXBtYQAAAAAAAAABAAEEAQKDBAAAACVtZGF0EgAKCBgABogQEAwgMg8f8D///8WfhwB8+ErK42A=",webp:"data:image/webp;base64,UklGRjoAAABXRUJQVlA4IC4AAACyAgCdASoCAAIALmk0mk0iIiIiIgBoSygABc6WWgAA/veff/0PP8bA//LwYAAA"};t.src=r[e]})}async function E(){if(p)return p;const[e,o]=await Promise.all([g("avif"),g("webp")]);return p={avif:e,webp:o},p}async function x(e){const o=await E();return o.avif&&e.avifSrc?e.avifSrc:o.webp&&e.webpSrc?e.webpSrc:e.src}function m(e){return new Promise((o,t)=>{const r=new Image;r.onload=()=>o(),r.onerror=()=>{console.warn(`Failed to preload image: ${e}`),o()},r.src=e})}async function d(e){const o=await x(e);await m(o)}async function T(e){const o=e.id;if(!o){const n=l.map(s=>d(s.imgOptions));await Promise.all(n),await w();return}const t=l.findIndex(n=>n.id===o);if(t===-1){await v(e);return}const a=Array.from({length:t+1},(n,s)=>s).map(n=>d(l[n].imgOptions));await Promise.all(a),await w()}function I(e){return new Promise(o=>{if(e.complete){o();return}const t=e.loading;e.loading="eager";const r=()=>{e.removeEventListener("load",r),e.removeEventListener("error",r),e.loading=t,o()};if(e.addEventListener("load",r),e.addEventListener("error",r),!e.complete){const a=e.src;e.src="",e.src=a}})}async function w(){const e=document.querySelectorAll('img[loading="lazy"]');if(e.length===0)return;const o=Array.from(e).map(I);await Promise.all(o)}async function v(e){const o=e.querySelectorAll("img"),t=[];o.forEach(n=>{n.src&&t.push(m(n.src)),n.srcset&&n.srcset.split(",").map(A=>A.trim().split(" ")[0]).forEach(A=>{A&&t.push(m(A))})}),e.querySelectorAll("source").forEach(n=>{n.srcset&&n.srcset.split(",").map(A=>A.trim().split(" ")[0]).forEach(A=>{A&&t.push(m(A))})}),await Promise.all(t);const a=e.querySelectorAll('img[loading="lazy"]');if(a.length>0){const n=Array.from(a).map(I);await Promise.all(n)}}function L(e,o,t){const r=e.getBoundingClientRect(),a=window.pageYOffset||document.documentElement.scrollTop;if(t){const n=window.innerHeight/2-r.height/2;return a+r.top-n+o}return a+r.top+o}function W(e){return{"out-expo":"expo.out","in-expo":"expo.in","inout-expo":"expo.inOut","out-quint":"power4.out",outQuint:"power4.out","in-quint":"power4.in","inout-quint":"power4.inOut","out-cubic":"power2.out","in-cubic":"power2.in","inout-cubic":"power2.inOut",linear:"none"}[e]||e}async function O(e,o={}){const{duration:t=1e3,ease:r="out-expo",offset:a=0,onComplete:n,preloadImages:s=!0,centerInViewport:A=!1}=o,c=typeof e=="string"?document.querySelector(e):e;if(!c){console.warn(`Target element not found: ${e}`);return}if(await C(),s){if(c.id&&l.some(i=>i.id===c.id))await T(c);else{const i=l.map(u=>d(u.imgOptions));await Promise.all(i),await w()}await new Promise(i=>setTimeout(i,100)),c.offsetHeight}const h=L(c,a,A),S=Math.max(0,document.body.scrollHeight-window.innerHeight),y=Math.max(0,Math.min(h,S)),B=W(r),b=window.pageYOffset||document.documentElement.scrollTop;return new Promise(i=>{const u={scrollTop:b};f.to(u,{duration:t/1e3,scrollTop:y,ease:B,onUpdate:()=>{window.scrollTo(0,u.scrollTop)},onComplete:()=>{n&&n(),i()},onInterrupt:()=>{console.warn("Scroll animation was interrupted"),i()}})})}async function C(){const e=document.querySelector(".projects-section-on-load");e&&(f.killTweensOf(e),f.set(e,{opacity:1,filter:"blur(0px)",y:0,transform:"translateY(0px)"}),P.refresh()),await new Promise(o=>{requestAnimationFrame(()=>{requestAnimationFrame(()=>{o(void 0)})})}),await new Promise(o=>setTimeout(o,50)),e&&e.offsetHeight}function U(e){const{spacing:o="default"}=e??{};let t=0;return window.innerWidth>=768?t+=80:t+=64,o==="lg"?window.innerWidth>=768?t+=48:t+=36:o==="md"?window.innerWidth>=768?t+=20:t+=16:o==="sm"&&(window.innerWidth>=768?t+=12:t+=8),-t}export{M as a,G as b,Y as c,Q as e,U as g,O as r};

import{$ as Z,a3 as be,a4 as ye,D as ke,S as J,i as X,s as U,Z as G,_ as Q,m as E,h as b,n as d,b as T,F as y,C as F,E as N,k as D,q as ue,a as M,x as B,l as x,r as ce,c as z,y as P,z as W,H as R,u as fe,f as I,g as de,t as L,d as pe,A as H,a5 as Ee,o as De,I as xe,J as je,K as Ie,R as Ae,L as Le,a6 as V,v as $,e as ee,V as Se,W as Te,X as Me,Y as ze}from"../../../../chunks/index-1b60df3c.js";import{c as Ce,e as Oe,a as Ve}from"../../../../chunks/index-7d2769a5.js";import{p as Ne}from"../../../../chunks/stores-a12f30e2.js";import{I as Be}from"../../../../chunks/Icon-bf4450dd.js";import{w as Pe}from"../../../../chunks/index-9ebf557e.js";import{F as We}from"../../../../chunks/Footer-7827ea67.js";import{s as te,a as ne,w as Re}from"../../../../chunks/essayNav-a8b4dd3d.js";import{g as He,r as Ue}from"../../../../chunks/reliableScroll-09e90851.js";function se(t){return Object.prototype.toString.call(t)==="[object Date]"}function K(t,e){if(t===e||t!==t)return()=>t;const n=typeof t;if(n!==typeof e||Array.isArray(t)!==Array.isArray(e))throw new Error("Cannot interpolate values of different type");if(Array.isArray(t)){const r=e.map((s,c)=>K(t[c],s));return s=>r.map(c=>c(s))}if(n==="object"){if(!t||!e)throw new Error("Object cannot be null");if(se(t)&&se(e)){t=t.getTime(),e=e.getTime();const c=e-t;return l=>new Date(t+l*c)}const r=Object.keys(e),s={};return r.forEach(c=>{s[c]=K(t[c],e[c])}),c=>{const l={};return r.forEach(a=>{l[a]=s[a](c)}),l}}if(n==="number"){const r=e-t;return s=>t+s*r}throw new Error(`Cannot interpolate ${n} values`)}function Ye(t,e={}){const n=Pe(t);let r,s=t;function c(l,a){if(t==null)return n.set(t=l),Promise.resolve();s=l;let i=r,f=!1,{delay:o=0,duration:_=400,easing:m=ke,interpolate:w=K}=Z(Z({},e),a);if(_===0)return i&&(i.abort(),i=null),n.set(t=s),Promise.resolve();const p=be()+o;let h;return r=ye(u=>{if(u<p)return!0;f||(h=w(t,l),typeof _=="function"&&(_=_(t,l)),f=!0),i&&(i.abort(),i=null);const v=u-p;return v>_?(n.set(t=l),!1):(n.set(t=h(m(v/_))),!0)}),r.promise}return{set:c,update:(l,a)=>c(l(s,t),a),subscribe:n.subscribe}}function qe(t){let e,n;return{c(){e=G("svg"),n=G("path"),this.h()},l(r){e=Q(r,"svg",{width:!0,height:!0,viewBox:!0,fill:!0,xmlns:!0,class:!0,"aria-hidden":!0});var s=E(e);n=Q(s,"path",{d:!0,fill:!0,stroke:!0,"stroke-width":!0,"stroke-linecap":!0,"stroke-linejoin":!0,"vector-effect":!0}),E(n).forEach(b),s.forEach(b),this.h()},h(){d(n,"d",t[2]),d(n,"fill","none"),d(n,"stroke","currentColor"),d(n,"stroke-width",t[1]),d(n,"stroke-linecap","round"),d(n,"stroke-linejoin","round"),d(n,"vector-effect","non-scaling-stroke"),d(e,"width",t[0]),d(e,"height",t[0]),d(e,"viewBox","0 0 24 24"),d(e,"fill","none"),d(e,"xmlns","http://www.w3.org/2000/svg"),d(e,"class","chevron-svg svelte-9q6psm"),d(e,"aria-hidden","true")},m(r,s){T(r,e,s),y(e,n)},p(r,[s]){s&4&&d(n,"d",r[2]),s&2&&d(n,"stroke-width",r[1]),s&1&&d(e,"width",r[0]),s&1&&d(e,"height",r[0])},i:F,o:F,d(r){r&&b(e)}}}function S(t,e,n){return t+(e-t)*n}function Fe(t,e,n){let r,s,c,l,{open:a=!1}=e,{size:i="18px"}=e,{strokeWidth:f=1.5}=e;const o=Ye(0,{duration:180,easing:Ce});N(t,o,h=>n(7,l=h));const _={x1:7,y1:10,x2:12,y2:15},m={x1:17,y1:10,x2:12,y2:15},w={x1:7,y1:14,x2:12,y2:9},p={x1:17,y1:14,x2:12,y2:9};return t.$$set=h=>{"open"in h&&n(4,a=h.open),"size"in h&&n(0,i=h.size),"strokeWidth"in h&&n(1,f=h.strokeWidth)},t.$$.update=()=>{t.$$.dirty&16&&o.set(a?1:0),t.$$.dirty&128&&n(6,r={x1:S(_.x1,w.x1,l),y1:S(_.y1,w.y1,l),x2:S(_.x2,w.x2,l),y2:S(_.y2,w.y2,l)}),t.$$.dirty&128&&n(5,s={x1:S(m.x1,p.x1,l),y1:S(m.y1,p.y1,l),x2:S(m.x2,p.x2,l),y2:S(m.y2,p.y2,l)}),t.$$.dirty&96&&n(2,c=`M ${r.x1} ${r.y1} L ${r.x2} ${r.y2} L ${s.x1} ${s.y1}`)},[i,f,c,o,a,s,r,l]}class Ke extends J{constructor(e){super(),X(this,e,Fe,qe,U,{open:4,size:0,strokeWidth:1})}}function re(t,e,n){const r=t.slice();return r[21]=e[n],r[23]=n,r}function oe(t){let e,n,r,s,c,l,a,i=t[1],f=[];for(let o=0;o<i.length;o+=1)f[o]=le(re(t,i,o));return{c(){e=D("div");for(let o=0;o<f.length;o+=1)f[o].c();this.h()},l(o){e=x(o,"DIV",{class:!0,role:!0,style:!0});var _=E(e);for(let m=0;m<f.length;m+=1)f[m].l(_);_.forEach(b),this.h()},h(){d(e,"class","dropdown-menu svelte-4df8jd"),d(e,"role","listbox"),d(e,"style",n=`top:${t[7]}px; right:${t[8]}px;`)},m(o,_){T(o,e,_);for(let m=0;m<f.length;m+=1)f[m].m(e,null);t[14](e),c=!0,l||(a=[R(e,"wheel",t[11]),R(e,"touchmove",t[12])],l=!0)},p(o,_){if(t=o,_&1027){i=t[1];let m;for(m=0;m<i.length;m+=1){const w=re(t,i,m);f[m]?f[m].p(w,_):(f[m]=le(w),f[m].c(),f[m].m(e,null))}for(;m<f.length;m+=1)f[m].d(1);f.length=i.length}(!c||_&384&&n!==(n=`top:${t[7]}px; right:${t[8]}px;`))&&d(e,"style",n)},i(o){c||(xe(()=>{s&&s.end(1),r=je(e,ae,{duration:300,easing:Oe}),r.start()}),c=!0)},o(o){r&&r.invalidate(),s=Ie(e,ae,{duration:200,easing:Ve}),c=!1},d(o){o&&b(e),Ae(f,o),t[14](null),o&&s&&s.end(),l=!1,Le(a)}}}function le(t){let e,n,r,s,c,l=t[21].label+"",a,i,f,o,_,m;function w(){return t[13](t[23])}return{c(){e=D("button"),n=D("span"),s=M(),c=D("span"),a=ue(l),i=M(),this.h()},l(p){e=x(p,"BUTTON",{role:!0,"aria-selected":!0,class:!0});var h=E(e);n=x(h,"SPAN",{class:!0,"aria-hidden":!0}),E(n).forEach(b),s=z(h),c=x(h,"SPAN",{class:!0});var u=E(c);a=ce(u,l),u.forEach(b),i=z(h),h.forEach(b),this.h()},h(){d(n,"class",r=V(`option-dot ${t[23]===t[0]?"bg-white":"bg-white/40"}`)+" svelte-4df8jd"),d(n,"aria-hidden","true"),d(c,"class","option-label svelte-4df8jd"),d(e,"role","option"),d(e,"aria-selected",f=t[23]===t[0]),d(e,"class",o=V(`dropdown-option ${t[23]===t[0]?"is-active":""}`)+" svelte-4df8jd")},m(p,h){T(p,e,h),y(e,n),y(e,s),y(e,c),y(c,a),y(e,i),_||(m=R(e,"click",w),_=!0)},p(p,h){t=p,h&1&&r!==(r=V(`option-dot ${t[23]===t[0]?"bg-white":"bg-white/40"}`)+" svelte-4df8jd")&&d(n,"class",r),h&2&&l!==(l=t[21].label+"")&&fe(a,l),h&1&&f!==(f=t[23]===t[0])&&d(e,"aria-selected",f),h&1&&o!==(o=V(`dropdown-option ${t[23]===t[0]?"is-active":""}`)+" svelte-4df8jd")&&d(e,"class",o)},d(p){p&&b(e),_=!1,m()}}}function Je(t){var h;let e,n,r,s=(((h=t[1][t[0]])==null?void 0:h.label)??t[2])+"",c,l,a,i,f,o,_,m,w;i=new Ke({props:{open:t[4],size:"18px"}});let p=t[4]&&oe(t);return{c(){e=D("div"),n=D("button"),r=D("span"),c=ue(s),l=M(),a=D("span"),B(i.$$.fragment),f=M(),p&&p.c(),this.h()},l(u){e=x(u,"DIV",{class:!0});var v=E(e);n=x(v,"BUTTON",{type:!0,class:!0,"aria-haspopup":!0,"aria-expanded":!0});var k=E(n);r=x(k,"SPAN",{class:!0});var j=E(r);c=ce(j,s),j.forEach(b),l=z(k),a=x(k,"SPAN",{class:!0});var C=E(a);P(i.$$.fragment,C),C.forEach(b),k.forEach(b),f=z(v),p&&p.l(v),v.forEach(b),this.h()},h(){d(r,"class","dropdown-label svelte-4df8jd"),d(a,"class","chevron-wrapper svelte-4df8jd"),d(n,"type","button"),d(n,"class","dropdown-trigger svelte-4df8jd"),d(n,"aria-haspopup","listbox"),d(n,"aria-expanded",t[4]),d(e,"class",o="dropdown-root "+(t[3]==="subtle"?"is-subtle":"")+" svelte-4df8jd")},m(u,v){T(u,e,v),y(e,n),y(n,r),y(r,c),y(n,l),y(n,a),W(i,a,null),y(e,f),p&&p.m(e,null),t[15](e),_=!0,m||(w=R(n,"click",t[9]),m=!0)},p(u,[v]){var j;(!_||v&7)&&s!==(s=(((j=u[1][u[0]])==null?void 0:j.label)??u[2])+"")&&fe(c,s);const k={};v&16&&(k.open=u[4]),i.$set(k),(!_||v&16)&&d(n,"aria-expanded",u[4]),u[4]?p?(p.p(u,v),v&16&&I(p,1)):(p=oe(u),p.c(),I(p,1),p.m(e,null)):p&&(de(),L(p,1,1,()=>{p=null}),pe()),(!_||v&8&&o!==(o="dropdown-root "+(u[3]==="subtle"?"is-subtle":"")+" svelte-4df8jd"))&&d(e,"class",o)},i(u){_||(I(i.$$.fragment,u),I(p),_=!0)},o(u){L(i.$$.fragment,u),L(p),_=!1},d(u){u&&b(e),H(i),p&&p.d(),t[15](null),m=!1,w()}}}function ae(t,{duration:e,easing:n,y:r=10,startScale:s=.98}){const c=getComputedStyle(t),l=c.transform==="none"?"":c.transform;return{delay:0,duration:e,easing:n,css:(a,i)=>{const f=Math.pow(i,5),o=Math.min(1,Math.max(0,a*1.2-.2));return`
          transform: ${l} translateY(${f*r}px) scale(${s+(1-s)*o});
          opacity: ${a};
        `}}}function Xe(t,e,n){let{items:r=[]}=e,{selectedIndex:s=0}=e,{placeholder:c="Select"}=e,{variant:l="default"}=e;const a=Ee();let i=!1,f=null,o=null,_=0,m=0;function w(){if(!f)return;const g=f.getBoundingClientRect();n(7,_=g.bottom+8),n(8,m=Math.max(window.innerWidth-g.right,8))}function p(){n(4,i=!i),i&&w()}function h(){n(4,i=!1)}function u(g){n(0,s=g),a("select",{index:g}),h()}function v(g){if(!i&&(g.key==="Enter"||g.key===" "||g.key==="ArrowDown")){g.preventDefault(),n(4,i=!0);return}if(i){if(g.key==="Escape")g.preventDefault(),h();else if(g.key==="ArrowDown"){g.preventDefault();const A=Math.min(s+1,r.length-1);u(A)}else if(g.key==="ArrowUp"){g.preventDefault();const A=Math.max(s-1,0);u(A)}}}function k(g){if(!f)return;const A=g.target;f.contains(A)||h()}function j(g){if(!o)return;const{scrollTop:A,scrollHeight:Y,clientHeight:q}=o,_e=A===0,ge=A+q>=Y,ve=g.deltaY<0,we=g.deltaY>0;ve&&!_e||we&&!ge||g.preventDefault()}function C(g){if(!o)return;const{scrollTop:A,scrollHeight:Y,clientHeight:q}=o;Y>q||g.preventDefault()}De(()=>(document.addEventListener("click",k),document.addEventListener("keydown",v),window.addEventListener("resize",w),window.addEventListener("scroll",w,!0),()=>{document.removeEventListener("click",k),document.removeEventListener("keydown",v),window.removeEventListener("resize",w),window.removeEventListener("scroll",w,!0)}));const O=g=>u(g);function he(g){$[g?"unshift":"push"](()=>{o=g,n(6,o)})}function me(g){$[g?"unshift":"push"](()=>{f=g,n(5,f)})}return t.$$set=g=>{"items"in g&&n(1,r=g.items),"selectedIndex"in g&&n(0,s=g.selectedIndex),"placeholder"in g&&n(2,c=g.placeholder),"variant"in g&&n(3,l=g.variant)},[s,r,c,l,i,f,o,_,m,p,u,j,C,O,he,me]}class Ze extends J{constructor(e){super(),X(this,e,Xe,Je,U,{items:1,selectedIndex:0,placeholder:2,variant:3})}}function ie(t){let e,n,r,s;const c=t[5].default,l=Se(c,t,t[4],null);return r=new We({}),{c(){e=D("div"),l&&l.c(),n=M(),B(r.$$.fragment),this.h()},l(a){e=x(a,"DIV",{class:!0});var i=E(e);l&&l.l(i),n=z(i),P(r.$$.fragment,i),i.forEach(b),this.h()},h(){d(e,"class","flex flex-col mx-auto w-screen max-w-screen-2xl px-5 md:px-[2.5rem] xl:px-[5rem] pt-16 md:pt-20 space-y-8")},m(a,i){T(a,e,i),l&&l.m(e,null),y(e,n),W(r,e,null),s=!0},p(a,i){l&&l.p&&(!s||i&16)&&Te(l,c,a,a[4],s?ze(c,a[4],i,null):Me(a[4]),null)},i(a){s||(I(l,a),I(r.$$.fragment,a),s=!0)},o(a){L(l,a),L(r.$$.fragment,a),s=!1},d(a){a&&b(e),l&&l.d(a),H(r)}}}function Ge(t){let e,n,r,s,c,l,a,i,f,o,_,m=t[2].url.pathname,w,p;a=new Be({props:{name:"arrow-left",size:"1em",class:"text-white"}}),o=new Ze({props:{items:t[0],selectedIndex:t[1],placeholder:"Sections",variant:"subtle"}}),o.$on("select",t[6]);let h=ie(t);return{c(){e=D("nav"),n=D("div"),r=M(),s=D("div"),c=D("div"),l=D("a"),B(a.$$.fragment),i=M(),f=D("div"),B(o.$$.fragment),_=M(),h.c(),w=ee(),this.h()},l(u){e=x(u,"NAV",{class:!0});var v=E(e);n=x(v,"DIV",{class:!0}),E(n).forEach(b),r=z(v),s=x(v,"DIV",{class:!0});var k=E(s);c=x(k,"DIV",{class:!0});var j=E(c);l=x(j,"A",{href:!0,"aria-label":!0,class:!0});var C=E(l);P(a.$$.fragment,C),C.forEach(b),j.forEach(b),i=z(k),f=x(k,"DIV",{class:!0});var O=E(f);P(o.$$.fragment,O),O.forEach(b),k.forEach(b),v.forEach(b),_=z(u),h.l(u),w=ee(),this.h()},h(){d(n,"class","absolute inset-x-0 top-0 h-28 md:h-32 bg-gradient-to-b from-background via-background/80 to-transparent pointer-events-none"),d(l,"href","/essays"),d(l,"aria-label","Back to essays"),d(l,"class","p-2 -ml-2"),d(c,"class","flex flex-row items-center space-x-2 md:space-x-3 pointer-events-auto"),d(f,"class","flex items-center pointer-events-auto"),d(s,"class","relative z-10 flex flex-row justify-between items-center mx-auto w-full max-w-screen-2xl px-5 md:px-[2.5rem] xl:px-[5rem] h-16 md:h-20"),d(e,"class","w-full fixed top-0 z-50 bg-transparent pointer-events-none")},m(u,v){T(u,e,v),y(e,n),y(e,r),y(e,s),y(s,c),y(c,l),W(a,l,null),y(s,i),y(s,f),W(o,f,null),T(u,_,v),h.m(u,v),T(u,w,v),p=!0},p(u,[v]){const k={};v&1&&(k.items=u[0]),v&2&&(k.selectedIndex=u[1]),o.$set(k),v&4&&U(m,m=u[2].url.pathname)?(de(),L(h,1,1,F),pe(),h=ie(u),h.c(),I(h,1),h.m(w.parentNode,w)):h.p(u,v)},i(u){p||(I(a.$$.fragment,u),I(o.$$.fragment,u),I(h),p=!0)},o(u){L(a.$$.fragment,u),L(o.$$.fragment,u),L(h),p=!1},d(u){u&&b(e),H(a),H(o),u&&b(_),u&&b(w),h.d(u)}}}function Qe(t,e,n){let r,s,c;N(t,ne,o=>n(0,r=o)),N(t,te,o=>n(1,s=o)),N(t,Ne,o=>n(2,c=o));let{$$slots:l={},$$scope:a}=e;function i(o){te.set(o),ne.subscribe(async m=>{const w=m[o];w&&await Re(async()=>{const p=He({spacing:"lg"});await Ue(`#${w.id}`,{duration:600,ease:"out-expo",offset:p})})})()}const f=o=>i(o.detail.index);return t.$$set=o=>{"$$scope"in o&&n(4,a=o.$$scope)},[r,s,c,i,a,l,f]}class at extends J{constructor(e){super(),X(this,e,Qe,Ge,U,{})}}export{at as default};

import{S as Y,i as ee,s as te,k as p,l as g,m as b,h,n as m,b as A,C as j,R as J,e as F,q as O,a as P,r as H,c as M,F as d,H as fe,u as ue,a9 as he,aa as de,o as me,v as ye,x as K,a8 as Pe,y as Q,z as X,f as T,d as ne,t as C,A as Z,E as Me,O as Ce,g as oe,M as De}from"../../../../chunks/index-1b60df3c.js";import{g as _e,r as pe}from"../../../../chunks/reliableScroll-d53edb5e.js";import{g as re}from"../../../../chunks/index-cf87e9ff.js";import{I as Be}from"../../../../chunks/Icon-bf4450dd.js";import{S as Re}from"../../../../chunks/Separator-e4a3d9e5.js";import{b as qe,s as je,c as Ve}from"../../../../chunks/essayNav-a8b4dd3d.js";import{H as se}from"../../../../chunks/index-3b593a9d.js";function Ee(i,e,n){const l=i.slice();return l[4]=e[n],l}function Ue(i){let e,n,l,t,o=" ",r,a,s,c=ie(i[4])+"",u,f,k=" ",y,E,S,w,D;function V(){return i[3](i[4])}return{c(){e=p("button"),n=p("span"),l=O("["),t=p("span"),r=O(o),a=P(),s=p("span"),u=O(c),f=p("span"),y=O(k),E=O("]"),S=P(),this.h()},l(N){e=g(N,"BUTTON",{class:!0});var x=b(e);n=g(x,"SPAN",{class:!0});var _=b(n);l=H(_,"["),t=g(_,"SPAN",{class:!0});var U=b(t);r=H(U,o),U.forEach(h),a=M(_),s=g(_,"SPAN",{class:!0});var I=b(s);u=H(I,c),I.forEach(h),f=g(_,"SPAN",{class:!0});var v=b(f);y=H(v,k),v.forEach(h),E=H(_,"]"),_.forEach(h),S=M(x),x.forEach(h),this.h()},h(){m(t,"class","text-[0.32rem]"),m(s,"class","underline decoration-glacial-blue/60 group-hover:decoration-glacial-blue"),m(f,"class","text-[0.32rem]"),m(n,"class","text-sm text-muted-text-grey group-hover:text-white transition-colors"),m(e,"class","group inline-flex items-baseline border-none bg-transparent p-0 cursor-pointer")},m(N,x){A(N,e,x),d(e,n),d(n,l),d(n,t),d(t,r),d(n,a),d(n,s),d(s,u),d(n,f),d(f,y),d(n,E),d(e,S),w||(D=fe(e,"click",V),w=!0)},p(N,x){i=N,x&1&&c!==(c=ie(i[4])+"")&&ue(u,c)},d(N){N&&h(e),w=!1,D()}}}function ze(i){let e,n=i[4].text+"",l;return{c(){e=new he(!1),l=F(),this.h()},l(t){e=de(t,!1),l=F(),this.h()},h(){e.a=l},m(t,o){e.m(n,t,o),A(t,l,o)},p(t,o){o&1&&n!==(n=t[4].text+"")&&e.p(n)},d(t){t&&h(l),t&&e.d()}}}function we(i){let e;function n(o,r){if(o[4].type==="text")return ze;if(o[4].type==="ref")return Ue}let l=n(i),t=l&&l(i);return{c(){t&&t.c(),e=F()},l(o){t&&t.l(o),e=F()},m(o,r){t&&t.m(o,r),A(o,e,r)},p(o,r){l===(l=n(o))&&t?t.p(o,r):(t&&t.d(1),t=l&&l(o),t&&(t.c(),t.m(e.parentNode,e)))},d(o){t&&t.d(o),o&&h(e)}}}function Fe(i){let e,n,l=i[0],t=[];for(let o=0;o<l.length;o+=1)t[o]=we(Ee(i,l,o));return{c(){e=p("p");for(let o=0;o<t.length;o+=1)t[o].c();this.h()},l(o){e=g(o,"P",{class:!0,id:!0});var r=b(e);for(let a=0;a<t.length;a+=1)t[a].l(r);r.forEach(h),this.h()},h(){m(e,"class","font-serif text-description-text-grey"),m(e,"id",n=i[1]?`footnote-ref-${i[1]}`:void 0)},m(o,r){A(o,e,r);for(let a=0;a<t.length;a+=1)t[a].m(e,null)},p(o,[r]){if(r&5){l=o[0];let a;for(a=0;a<l.length;a+=1){const s=Ee(o,l,a);t[a]?t[a].p(s,r):(t[a]=we(s),t[a].c(),t[a].m(e,null))}for(;a<t.length;a+=1)t[a].d(1);t.length=l.length}r&2&&n!==(n=o[1]?`footnote-ref-${o[1]}`:void 0)&&m(e,"id",n)},i:j,o:j,d(o){o&&h(e),J(t,o)}}}function ie(i){return i.num}function We(i,e,n){let{tokens:l}=e,t;async function o(a){const s=_e({spacing:"lg"}),c=`footnote-${a}`,u=document.getElementById(c);u&&(u.classList.add("footnote-bg-anim"),u.classList.add("footnote-bg-highlight"),await pe(u,{duration:1e3,ease:"out-expo",offset:s}),setTimeout(()=>{u.classList.remove("footnote-bg-highlight")},0))}const r=a=>o(ie(a));return i.$$set=a=>{"tokens"in a&&n(0,l=a.tokens)},i.$$.update=()=>{var a;i.$$.dirty&1&&n(1,t=(a=l.find(s=>s.type==="ref"))==null?void 0:a.num)},[l,t,o,r]}class Je extends Y{constructor(e){super(),ee(this,e,We,Fe,te,{tokens:0})}}function xe(i,e,n){const l=i.slice();return l[4]=e[n],l}function Ke(i){let e,n,l,t,o=" ",r,a,s,c=ce(i[4])+"",u,f,k=" ",y,E,S,w,D;function V(){return i[3](i[4])}return{c(){e=p("button"),n=p("span"),l=O("["),t=p("span"),r=O(o),a=P(),s=p("span"),u=O(c),f=p("span"),y=O(k),E=O("]"),S=P(),this.h()},l(N){e=g(N,"BUTTON",{class:!0});var x=b(e);n=g(x,"SPAN",{class:!0});var _=b(n);l=H(_,"["),t=g(_,"SPAN",{class:!0});var U=b(t);r=H(U,o),U.forEach(h),a=M(_),s=g(_,"SPAN",{class:!0});var I=b(s);u=H(I,c),I.forEach(h),f=g(_,"SPAN",{class:!0});var v=b(f);y=H(v,k),v.forEach(h),E=H(_,"]"),_.forEach(h),S=M(x),x.forEach(h),this.h()},h(){m(t,"class","text-[0.32rem]"),m(s,"class","underline decoration-glacial-blue/60 group-hover:decoration-glacial-blue"),m(f,"class","text-[0.32rem]"),m(n,"class","text-sm text-muted-text-grey group-hover:text-white transition-colors"),m(e,"class","group inline-flex items-baseline border-none bg-transparent p-0 cursor-pointer")},m(N,x){A(N,e,x),d(e,n),d(n,l),d(n,t),d(t,r),d(n,a),d(n,s),d(s,u),d(n,f),d(f,y),d(n,E),d(e,S),w||(D=fe(e,"click",V),w=!0)},p(N,x){i=N,x&1&&c!==(c=ce(i[4])+"")&&ue(u,c)},d(N){N&&h(e),w=!1,D()}}}function Qe(i){let e,n=i[4].text+"",l;return{c(){e=new he(!1),l=F(),this.h()},l(t){e=de(t,!1),l=F(),this.h()},h(){e.a=l},m(t,o){e.m(n,t,o),A(t,l,o)},p(t,o){o&1&&n!==(n=t[4].text+"")&&e.p(n)},d(t){t&&h(l),t&&e.d()}}}function $e(i){let e;function n(o,r){if(o[4].type==="text")return Qe;if(o[4].type==="ref")return Ke}let l=n(i),t=l&&l(i);return{c(){t&&t.c(),e=F()},l(o){t&&t.l(o),e=F()},m(o,r){t&&t.m(o,r),A(o,e,r)},p(o,r){l===(l=n(o))&&t?t.p(o,r):(t&&t.d(1),t=l&&l(o),t&&(t.c(),t.m(e.parentNode,e)))},d(o){t&&t.d(o),o&&h(e)}}}function Xe(i){let e,n,l,t=i[0],o=[];for(let r=0;r<t.length;r+=1)o[r]=$e(xe(i,t,r));return{c(){e=p("li"),n=p("span");for(let r=0;r<o.length;r+=1)o[r].c();this.h()},l(r){e=g(r,"LI",{});var a=b(e);n=g(a,"SPAN",{class:!0,id:!0});var s=b(n);for(let c=0;c<o.length;c+=1)o[c].l(s);s.forEach(h),a.forEach(h),this.h()},h(){m(n,"class","li-content text-white not-italic"),m(n,"id",l=i[1]?`footnote-ref-${i[1]}`:void 0)},m(r,a){A(r,e,a),d(e,n);for(let s=0;s<o.length;s+=1)o[s].m(n,null)},p(r,[a]){if(a&5){t=r[0];let s;for(s=0;s<t.length;s+=1){const c=xe(r,t,s);o[s]?o[s].p(c,a):(o[s]=$e(c),o[s].c(),o[s].m(n,null))}for(;s<o.length;s+=1)o[s].d(1);o.length=t.length}a&2&&l!==(l=r[1]?`footnote-ref-${r[1]}`:void 0)&&m(n,"id",l)},i:j,o:j,d(r){r&&h(e),J(o,r)}}}function ce(i){return i.num}function Ze(i,e,n){let{tokens:l}=e,t;async function o(a){const s=_e({spacing:"lg"}),c=`footnote-${a}`,u=document.getElementById(c);u&&(u.classList.add("footnote-bg-anim"),u.classList.add("footnote-bg-highlight"),await pe(u,{duration:1e3,ease:"out-expo",offset:s}),setTimeout(()=>{u.classList.remove("footnote-bg-highlight")},0))}const r=a=>o(ce(a));return i.$$set=a=>{"tokens"in a&&n(0,l=a.tokens)},i.$$.update=()=>{var a;i.$$.dirty&1&&n(1,t=(a=l.find(s=>s.type==="ref"))==null?void 0:a.num)},[l,t,o,r]}class Ge extends Y{constructor(e){super(),ee(this,e,Ze,Xe,te,{tokens:0})}}function Ye(i){let e,n;return{c(){e=p("blockquote"),n=p("p"),this.h()},l(l){e=g(l,"BLOCKQUOTE",{class:!0});var t=b(e);n=g(t,"P",{class:!0});var o=b(n);o.forEach(h),t.forEach(h),this.h()},h(){m(n,"class","font-serif text-3xl md:text-4xl font-semibold text-white leading-tight md:leading-snug"),m(e,"class","!my-7 md:!my-9 py-3.5 px-4 md:px-6 md:py-4 border-l-4 border-glacial-blue bg-glacial-blue/5 md:rounded-r-lg svelte-1xqgoir")},m(l,t){A(l,e,t),d(e,n),n.innerHTML=i[0],i[3](n),i[4](e)},p(l,[t]){t&1&&(n.innerHTML=l[0])},i:j,o:j,d(l){l&&h(e),i[3](null),i[4](null)}}}function et(i){const e=document.createElement("div");e.innerHTML=i;function n(l){if(l.nodeType===Node.TEXT_NODE)return(l.textContent||"").split(/(\s+)/).map(r=>r.trim()?`<span class="word-anim">${r}</span>`:r).join("");if(l.nodeType===Node.ELEMENT_NODE){const t=l,o=t.tagName.toLowerCase(),r=Array.from(t.attributes).map(c=>`${c.name}="${c.value}"`).join(" "),a=r?` ${r}`:"",s=Array.from(t.childNodes).map(c=>n(c)).join("");return`<${o}${a}>${s}</${o}>`}return""}return Array.from(e.childNodes).map(l=>n(l)).join("")}function tt(i,e,n){let{text:l}=e,t,o,r=!1;me(()=>{const c=et(l);n(2,o.innerHTML=c,o);const u=o.querySelectorAll(".word-anim");if(re.set(u,{opacity:0,y:10}),t.getBoundingClientRect().top<window.innerHeight)re.set(u,{opacity:1,y:0}),r=!0;else{const y=new IntersectionObserver(E=>{E.forEach(S=>{S.isIntersecting&&!r&&(r=!0,re.to(u,{opacity:1,y:0,duration:.35,stagger:.09,ease:"power2.out"}),y.unobserve(t))})},{threshold:0,rootMargin:"0px 0px 0px 0px"});return y.observe(t),()=>{y.disconnect()}}});function a(c){ye[c?"unshift":"push"](()=>{o=c,n(2,o)})}function s(c){ye[c?"unshift":"push"](()=>{t=c,n(1,t)})}return i.$$set=c=>{"text"in c&&n(0,l=c.text)},[l,t,o,a,s]}class lt extends Y{constructor(e){super(),ee(this,e,tt,Ye,te,{text:0})}}function nt(i){let e,n,l;return{c(){e=p("pre"),n=p("code"),this.h()},l(t){e=g(t,"PRE",{});var o=b(e);n=g(o,"CODE",{class:!0});var r=b(n);r.forEach(h),o.forEach(h),this.h()},h(){m(n,"class",l="hljs "+(i[0]||""))},m(t,o){A(t,e,o),d(e,n),n.innerHTML=i[1]},p(t,[o]){o&2&&(n.innerHTML=t[1]),o&1&&l!==(l="hljs "+(t[0]||""))&&m(n,"class",l)},i:j,o:j,d(t){t&&h(e)}}}function ot(i,e,n){let{code:l}=e,{lang:t}=e,o="";return me(()=>{t&&se.getLanguage(t)?n(1,o=se.highlight(l,{language:t}).value):n(1,o=se.highlightAuto(l).value)}),i.$$set=r=>{"code"in r&&n(2,l=r.code),"lang"in r&&n(0,t=r.lang)},[t,o,l]}class rt extends Y{constructor(e){super(),ee(this,e,ot,nt,te,{code:2,lang:0})}}const{document:ae}=Ce;function Ne(i,e,n){const l=i.slice();return l[8]=e[n][0],l[9]=e[n][1],l}function Se(i,e,n){const l=i.slice();return l[12]=e[n],l[14]=n,l}function Ie(i,e,n){const l=i.slice();return l[15]=e[n],l}function Le(i,e,n){const l=i.slice();return l[18]=e[n],l}function st(i){let e,n=i[12].heading+"",l;return{c(){e=p("h2"),l=O(n),this.h()},l(t){e=g(t,"H2",{class:!0});var o=b(e);l=H(o,n),o.forEach(h),this.h()},h(){m(e,"class","text-xl md:text-2xl font-semibold text-white max-w-screen-md mx-auto")},m(t,o){A(t,e,o),d(e,l)},p:j,d(t){t&&h(e)}}}function at(i){let e,n,l,t;const o=[ut,ft,ct],r=[];function a(s,c){return s[15].type==="paragraph"?0:s[15].type==="code"?1:s[15].type==="list"?2:-1}return~(n=a(i))&&(l=r[n]=o[n](i)),{c(){e=p("div"),l&&l.c(),this.h()},l(s){e=g(s,"DIV",{class:!0});var c=b(e);l&&l.l(c),c.forEach(h),this.h()},h(){m(e,"class","space-y-4 max-w-screen-md mx-auto"),De(e,"mt-3",i[12].heading!==i[1].title)},m(s,c){A(s,e,c),~n&&r[n].m(e,null),t=!0},p(s,c){l&&l.p(s,c)},i(s){t||(T(l),t=!0)},o(s){C(l),t=!1},d(s){s&&h(e),~n&&r[n].d()}}}function it(i){let e,n,l,t;return l=new lt({props:{text:i[15].text}}),{c(){e=p("div"),n=p("div"),K(l.$$.fragment),this.h()},l(o){e=g(o,"DIV",{class:!0});var r=b(e);n=g(r,"DIV",{class:!0});var a=b(n);Q(l.$$.fragment,a),a.forEach(h),r.forEach(h),this.h()},h(){m(n,"class","-mx-[calc(1rem+4px)] md:-mx-[calc(1.5rem+4px)]"),m(e,"class","w-full max-w-screen-md mx-auto")},m(o,r){A(o,e,r),d(e,n),X(l,n,null),t=!0},p:j,i(o){t||(T(l.$$.fragment,o),t=!0)},o(o){C(l.$$.fragment,o),t=!1},d(o){o&&h(e),Z(l)}}}function ct(i){let e,n,l=i[15].items,t=[];for(let r=0;r<l.length;r+=1)t[r]=Te(Le(i,l,r));const o=r=>C(t[r],1,1,()=>{t[r]=null});return{c(){e=p("ul");for(let r=0;r<t.length;r+=1)t[r].c();this.h()},l(r){e=g(r,"UL",{class:!0});var a=b(e);for(let s=0;s<t.length;s+=1)t[s].l(a);a.forEach(h),this.h()},h(){m(e,"class","list-disc pl-5 space-y-2 font-serif text-description-text-grey")},m(r,a){A(r,e,a);for(let s=0;s<t.length;s+=1)t[s].m(e,null);n=!0},p(r,a){if(a&2){l=r[15].items;let s;for(s=0;s<l.length;s+=1){const c=Le(r,l,s);t[s]?(t[s].p(c,a),T(t[s],1)):(t[s]=Te(c),t[s].c(),T(t[s],1),t[s].m(e,null))}for(oe(),s=l.length;s<t.length;s+=1)o(s);ne()}},i(r){if(!n){for(let a=0;a<l.length;a+=1)T(t[a]);n=!0}},o(r){t=t.filter(Boolean);for(let a=0;a<t.length;a+=1)C(t[a]);n=!1},d(r){r&&h(e),J(t,r)}}}function ft(i){let e,n;return e=new rt({props:{lang:i[15].lang,code:i[15].code}}),{c(){K(e.$$.fragment)},l(l){Q(e.$$.fragment,l)},m(l,t){X(e,l,t),n=!0},p:j,i(l){n||(T(e.$$.fragment,l),n=!0)},o(l){C(e.$$.fragment,l),n=!1},d(l){Z(e,l)}}}function ut(i){let e,n;return e=new Je({props:{tokens:i[15].tokens}}),{c(){K(e.$$.fragment)},l(l){Q(e.$$.fragment,l)},m(l,t){X(e,l,t),n=!0},p:j,i(l){n||(T(e.$$.fragment,l),n=!0)},o(l){C(e.$$.fragment,l),n=!1},d(l){Z(e,l)}}}function Te(i){let e,n;return e=new Ge({props:{tokens:i[18]}}),{c(){K(e.$$.fragment)},l(l){Q(e.$$.fragment,l)},m(l,t){X(e,l,t),n=!0},p:j,i(l){n||(T(e.$$.fragment,l),n=!0)},o(l){C(e.$$.fragment,l),n=!1},d(l){Z(e,l)}}}function Ae(i){let e,n,l,t;const o=[it,at],r=[];function a(s,c){return s[15].type==="blockquote"?0:1}return e=a(i),n=r[e]=o[e](i),{c(){n.c(),l=F()},l(s){n.l(s),l=F()},m(s,c){r[e].m(s,c),A(s,l,c),t=!0},p(s,c){n.p(s,c)},i(s){t||(T(n),t=!0)},o(s){C(n),t=!1},d(s){r[e].d(s),s&&h(l)}}}function Oe(i){let e,n,l,t,o=i[12].heading!==i[1].title&&st(i),r=i[12].content,a=[];for(let c=0;c<r.length;c+=1)a[c]=Ae(Ie(i,r,c));const s=c=>C(a[c],1,1,()=>{a[c]=null});return{c(){e=p("section"),o&&o.c(),n=P();for(let c=0;c<a.length;c+=1)a[c].c();l=P(),this.h()},l(c){e=g(c,"SECTION",{id:!0,"data-essay-section":!0});var u=b(e);o&&o.l(u),n=M(u);for(let f=0;f<a.length;f+=1)a[f].l(u);l=M(u),u.forEach(h),this.h()},h(){m(e,"id",`section-${i[14]}`),m(e,"data-essay-section","true")},m(c,u){A(c,e,u),o&&o.m(e,null),d(e,n);for(let f=0;f<a.length;f+=1)a[f].m(e,null);d(e,l),t=!0},p(c,u){if(c[12].heading!==c[1].title&&o.p(c,u),u&2){r=c[12].content;let f;for(f=0;f<r.length;f+=1){const k=Ie(c,r,f);a[f]?(a[f].p(k,u),T(a[f],1)):(a[f]=Ae(k),a[f].c(),T(a[f],1),a[f].m(e,l))}for(oe(),f=r.length;f<a.length;f+=1)s(f);ne()}},i(c){if(!t){for(let u=0;u<r.length;u+=1)T(a[u]);t=!0}},o(c){a=a.filter(Boolean);for(let u=0;u<a.length;u+=1)C(a[u]);t=!1},d(c){c&&h(e),o&&o.d(),J(a,c)}}}function ht(i){let e,n,l,t,o=Object.keys(i[1].footnotes).length,r,a,s=o&&dt(i),c=i[1].contributionNote&&mt(i);return{c(){e=p("div"),n=p("h2"),l=O("Notes"),t=P(),s&&s.c(),r=P(),c&&c.c(),this.h()},l(u){e=g(u,"DIV",{class:!0,id:!0,"data-essay-section":!0});var f=b(e);n=g(f,"H2",{class:!0});var k=b(n);l=H(k,"Notes"),k.forEach(h),t=M(f),s&&s.l(f),r=M(f),c&&c.l(f),f.forEach(h),this.h()},h(){m(n,"class","text-xl md:text-2xl font-semibold text-white"),m(e,"class","mt-[8em] md:mt-[12em] max-w-screen-md mx-auto"),m(e,"id","section-notes"),m(e,"data-essay-section","true")},m(u,f){A(u,e,f),d(e,n),d(n,l),d(e,t),s&&s.m(e,null),d(e,r),c&&c.m(e,null),a=!0},p(u,f){o&&s.p(u,f),u[1].contributionNote&&c.p(u,f)},i(u){a||(T(s),a=!0)},o(u){C(s),a=!1},d(u){u&&h(e),s&&s.d(),c&&c.d()}}}function dt(i){let e,n,l=Object.entries(i[1].footnotes),t=[];for(let r=0;r<l.length;r+=1)t[r]=He(Ne(i,l,r));const o=r=>C(t[r],1,1,()=>{t[r]=null});return{c(){e=p("div");for(let r=0;r<t.length;r+=1)t[r].c();this.h()},l(r){e=g(r,"DIV",{class:!0});var a=b(e);for(let s=0;s<t.length;s+=1)t[s].l(a);a.forEach(h),this.h()},h(){m(e,"class","mt-4 space-y-2")},m(r,a){A(r,e,a);for(let s=0;s<t.length;s+=1)t[s].m(e,null);n=!0},p(r,a){if(a&6){l=Object.entries(r[1].footnotes);let s;for(s=0;s<l.length;s+=1){const c=Ne(r,l,s);t[s]?(t[s].p(c,a),T(t[s],1)):(t[s]=He(c),t[s].c(),T(t[s],1),t[s].m(e,null))}for(oe(),s=l.length;s<t.length;s+=1)o(s);ne()}},i(r){if(!n){for(let a=0;a<l.length;a+=1)T(t[a]);n=!0}},o(r){t=t.filter(Boolean);for(let a=0;a<t.length;a+=1)C(t[a]);n=!1},d(r){r&&h(e),J(t,r)}}}function He(i){let e,n,l,t,o,r=" ",a,s,c,u=i[8]+"",f,k,y=" ",E,S,w,D,V,N=" ",x,_,U,I,v=i[9]+"",L,$,B,W;w=new Be({props:{name:"arrow-up",size:"12px",class:"inline text-muted-text-grey group-hover:text-white transition-colors"}});function le(){return i[4](i[8])}return{c(){e=p("div"),n=p("button"),l=p("p"),t=O("["),o=p("span"),a=O(r),s=P(),c=p("span"),f=O(u),k=p("span"),E=O(y),S=P(),K(w.$$.fragment),D=P(),V=p("span"),x=O(N),_=O("]"),U=P(),I=new he(!1),L=P(),this.h()},l(q){e=g(q,"DIV",{id:!0,class:!0});var z=b(e);n=g(z,"BUTTON",{class:!0});var G=b(n);l=g(G,"P",{class:!0});var R=b(l);t=H(R,"["),o=g(R,"SPAN",{class:!0});var ge=b(o);a=H(ge,r),ge.forEach(h),s=M(R),c=g(R,"SPAN",{class:!0});var be=b(c);f=H(be,u),be.forEach(h),k=g(R,"SPAN",{class:!0});var ve=b(k);E=H(ve,y),ve.forEach(h),S=M(R),Q(w.$$.fragment,R),D=M(R),V=g(R,"SPAN",{class:!0});var ke=b(V);x=H(ke,N),ke.forEach(h),_=H(R,"]"),R.forEach(h),G.forEach(h),U=M(z),I=de(z,!1),L=M(z),z.forEach(h),this.h()},h(){m(o,"class","text-[0.9rem]"),m(c,"class","text-white underline decoration-glacial-blue"),m(k,"class","text-[0.32rem]"),m(V,"class","text-[0.32rem]"),m(l,"class","text-sm text-muted-text-grey group-hover:text-white transition-colors"),m(n,"class","group inline-flex items-center px-1 py-0.5 rounded border-none bg-transparent cursor-pointer hover:bg-gray-700 transition-colors"),I.a=L,m(e,"id",`footnote-${i[8]}`),m(e,"class","font-serif text-sm md:text-base text-muted-text-grey")},m(q,z){A(q,e,z),d(e,n),d(n,l),d(l,t),d(l,o),d(o,a),d(l,s),d(l,c),d(c,f),d(l,k),d(k,E),d(l,S),X(w,l,null),d(l,D),d(l,V),d(V,x),d(l,_),d(e,U),I.m(v,e),d(e,L),$=!0,B||(W=fe(n,"click",le),B=!0)},p(q,z){i=q},i(q){$||(T(w.$$.fragment,q),$=!0)},o(q){C(w.$$.fragment,q),$=!1},d(q){q&&h(e),Z(w),B=!1,W()}}}function mt(i){let e,n=i[1].contributionNote+"";return{c(){e=p("div"),this.h()},l(l){e=g(l,"DIV",{class:!0});var t=b(e);t.forEach(h),this.h()},h(){m(e,"class","mt-6 font-serif text-sm md:text-base text-muted-text-grey")},m(l,t){A(l,e,t),e.innerHTML=n},p:j,d(l){l&&h(e)}}}function _t(i){let e,n,l,t,o,r,a=i[1].title+"",s,c,u,f,k,y,E,S,w,D,V=Object.keys(i[1].footnotes).length||i[1].contributionNote,N;ae.title=e=i[1].title,E=new Re({});let x=i[1].sections,_=[];for(let v=0;v<x.length;v+=1)_[v]=Oe(Se(i,x,v));const U=v=>C(_[v],1,1,()=>{_[v]=null});let I=V&&ht(i);return{c(){n=P(),l=p("article"),t=p("div"),o=p("header"),r=p("h1"),s=O(a),c=P(),u=p("p"),f=O(i[0]),k=P(),y=p("div"),K(E.$$.fragment),S=P(),w=p("div");for(let v=0;v<_.length;v+=1)_[v].c();D=P(),I&&I.c(),this.h()},l(v){Pe("svelte-iu3vwn",ae.head).forEach(h),n=M(v),l=g(v,"ARTICLE",{class:!0});var $=b(l);t=g($,"DIV",{});var B=b(t);o=g(B,"HEADER",{class:!0});var W=b(o);r=g(W,"H1",{class:!0});var le=b(r);s=H(le,a),le.forEach(h),c=M(W),u=g(W,"P",{class:!0});var q=b(u);f=H(q,i[0]),q.forEach(h),W.forEach(h),k=M(B),y=g(B,"DIV",{class:!0});var z=b(y);Q(E.$$.fragment,z),z.forEach(h),S=M(B),w=g(B,"DIV",{class:!0});var G=b(w);for(let R=0;R<_.length;R+=1)_[R].l(G);G.forEach(h),D=M(B),I&&I.l(B),B.forEach(h),$.forEach(h),this.h()},h(){m(r,"class","text-3xl md:text-4xl font-bold text-glacial-blue leading-[1.175] md:leading-[1.1]"),m(u,"class","text-muted-text-grey mt-3.5 md:mt-4"),m(o,"class","max-w-screen-md mx-auto"),m(y,"class","my-12 md:my-14 max-w-screen-md mx-auto"),m(w,"class","space-y-12 md:space-y-14"),m(l,"class","py-8 md:py-12 w-full svelte-kswmg1")},m(v,L){A(v,n,L),A(v,l,L),d(l,t),d(t,o),d(o,r),d(r,s),d(o,c),d(o,u),d(u,f),d(t,k),d(t,y),X(E,y,null),d(t,S),d(t,w);for(let $=0;$<_.length;$+=1)_[$].m(w,null);d(t,D),I&&I.m(t,null),N=!0},p(v,[L]){if((!N||L&2)&&e!==(e=v[1].title)&&(ae.title=e),(!N||L&1)&&ue(f,v[0]),L&2){x=v[1].sections;let $;for($=0;$<x.length;$+=1){const B=Se(v,x,$);_[$]?(_[$].p(B,L),T(_[$],1)):(_[$]=Oe(B),_[$].c(),T(_[$],1),_[$].m(w,null))}for(oe(),$=x.length;$<_.length;$+=1)U($);ne()}V&&I.p(v,L)},i(v){if(!N){T(E.$$.fragment,v);for(let L=0;L<x.length;L+=1)T(_[L]);T(I),N=!0}},o(v){C(E.$$.fragment,v),_=_.filter(Boolean);for(let L=0;L<_.length;L+=1)C(_[L]);C(I),N=!1},d(v){v&&h(n),v&&h(l),Z(E),J(_,v),I&&I.d()}}}function pt(i,e,n){let l,t;Me(i,Ve,f=>n(6,t=f));let{data:o}=e;const{post:r}=o;let a=[];function s(){if(t)return;const f=window.innerHeight/2;let k=0;for(let y=0;y<a.length&&a[y].getBoundingClientRect().top<=f;y++)k=y;je.set(k)}async function c(f){const k=_e(),y=`footnote-ref-${f}`,E=document.getElementById(y);E&&(E.classList.add("footnote-bg-anim"),E.classList.add("footnote-bg-highlight"),await pe(E,{duration:1e3,ease:"out-expo",offset:k,centerInViewport:!0}),setTimeout(()=>{E.classList.remove("footnote-bg-highlight")},0))}me(()=>{const f=r.sections.map((S,w)=>({id:`section-${w}`,label:S.heading}));(Object.keys(r.footnotes).length||r.contributionNote)&&f.push({id:"section-notes",label:"Notes"}),qe(f),a=Array.from(document.querySelectorAll('[data-essay-section="true"]'));let k;function y(){k&&k.disconnect();const S=Math.floor(window.innerHeight/2),w={root:null,rootMargin:`-${S-1}px 0px -${S}px 0px`,threshold:0};k=new IntersectionObserver(s,w),a.forEach(D=>k.observe(D))}y();function E(){s(),y()}return window.addEventListener("resize",E),s(),()=>{window.removeEventListener("resize",E),k.disconnect()}});const u=f=>c(f);return i.$$set=f=>{"data"in f&&n(3,o=f.data)},n(0,l=new Date(r.date).toLocaleDateString("en-US",{month:"long",year:"numeric",timeZone:"UTC"})),[l,r,c,o,u]}class xt extends Y{constructor(e){super(),ee(this,e,pt,_t,te,{data:3})}}export{xt as default};

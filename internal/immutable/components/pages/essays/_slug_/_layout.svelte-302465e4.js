import{$ as Q,a4 as be,a5 as ye,D as ke,S as Z,i as G,s as R,Z as $,_ as ee,m as x,h as y,n as c,b as L,F as E,C as Y,E as P,k as D,q as fe,a as M,x as q,l as j,r as de,c as z,y as K,z as F,H as W,u as he,f as S,g as pe,t as C,d as me,A as J,a6 as Ee,o as xe,I as De,J as je,K as Ae,R as Ie,L as Le,a7 as B,v as te,e as ne,a3 as Se,V as Te,W as Me,X as ze,Y as Ce}from"../../../../chunks/index-8f0f7409.js";import{c as Oe,e as Ve,a as Ne}from"../../../../chunks/index-bcb55d7a.js";import{p as Be}from"../../../../chunks/stores-d312e69d.js";import{I as Pe}from"../../../../chunks/Icon-f7908583.js";import{w as We}from"../../../../chunks/index-941f7fbc.js";import{s as se,a as re,w as Re}from"../../../../chunks/essayNav-4f34ebeb.js";import{g as He,r as Ue}from"../../../../chunks/reliableScroll-09e90851.js";function oe(e){return Object.prototype.toString.call(e)==="[object Date]"}function X(e,t){if(e===t||e!==e)return()=>e;const n=typeof e;if(n!==typeof t||Array.isArray(e)!==Array.isArray(t))throw new Error("Cannot interpolate values of different type");if(Array.isArray(e)){const r=t.map((s,o)=>X(e[o],s));return s=>r.map(o=>o(s))}if(n==="object"){if(!e||!t)throw new Error("Object cannot be null");if(oe(e)&&oe(t)){e=e.getTime(),t=t.getTime();const o=t-e;return a=>new Date(e+a*o)}const r=Object.keys(t),s={};return r.forEach(o=>{s[o]=X(e[o],t[o])}),o=>{const a={};return r.forEach(m=>{a[m]=s[m](o)}),a}}if(n==="number"){const r=t-e;return s=>e+s*r}throw new Error(`Cannot interpolate ${n} values`)}function Ye(e,t={}){const n=We(e);let r,s=e;function o(a,m){if(e==null)return n.set(e=a),Promise.resolve();s=a;let i=r,u=!1,{delay:l=0,duration:h=400,easing:f=ke,interpolate:b=X}=Q(Q({},t),m);if(h===0)return i&&(i.abort(),i=null),n.set(e=s),Promise.resolve();const p=be()+l;let v;return r=ye(g=>{if(g<p)return!0;u||(v=b(e,a),typeof h=="function"&&(h=h(e,a)),u=!0),i&&(i.abort(),i=null);const w=g-p;return w>h?(n.set(e=a),!1):(n.set(e=v(f(w/h))),!0)}),r.promise}return{set:o,update:(a,m)=>o(a(s,e),m),subscribe:n.subscribe}}function qe(e){let t,n;return{c(){t=$("svg"),n=$("path"),this.h()},l(r){t=ee(r,"svg",{width:!0,height:!0,viewBox:!0,fill:!0,xmlns:!0,class:!0,"aria-hidden":!0});var s=x(t);n=ee(s,"path",{d:!0,fill:!0,stroke:!0,"stroke-width":!0,"stroke-linecap":!0,"stroke-linejoin":!0,"vector-effect":!0}),x(n).forEach(y),s.forEach(y),this.h()},h(){c(n,"d",e[2]),c(n,"fill","none"),c(n,"stroke","currentColor"),c(n,"stroke-width",e[1]),c(n,"stroke-linecap","round"),c(n,"stroke-linejoin","round"),c(n,"vector-effect","non-scaling-stroke"),c(t,"width",e[0]),c(t,"height",e[0]),c(t,"viewBox","0 0 24 24"),c(t,"fill","none"),c(t,"xmlns","http://www.w3.org/2000/svg"),c(t,"class","chevron-svg svelte-9q6psm"),c(t,"aria-hidden","true")},m(r,s){L(r,t,s),E(t,n)},p(r,[s]){s&4&&c(n,"d",r[2]),s&2&&c(n,"stroke-width",r[1]),s&1&&c(t,"width",r[0]),s&1&&c(t,"height",r[0])},i:Y,o:Y,d(r){r&&y(t)}}}function T(e,t,n){return e+(t-e)*n}function Ke(e,t,n){let r,s,o,a,{open:m=!1}=t,{size:i="18px"}=t,{strokeWidth:u=1.5}=t;const l=Ye(0,{duration:180,easing:Oe});P(e,l,v=>n(7,a=v));const h={x1:7,y1:10,x2:12,y2:15},f={x1:17,y1:10,x2:12,y2:15},b={x1:7,y1:14,x2:12,y2:9},p={x1:17,y1:14,x2:12,y2:9};return e.$$set=v=>{"open"in v&&n(4,m=v.open),"size"in v&&n(0,i=v.size),"strokeWidth"in v&&n(1,u=v.strokeWidth)},e.$$.update=()=>{e.$$.dirty&16&&l.set(m?1:0),e.$$.dirty&128&&n(6,r={x1:T(h.x1,b.x1,a),y1:T(h.y1,b.y1,a),x2:T(h.x2,b.x2,a),y2:T(h.y2,b.y2,a)}),e.$$.dirty&128&&n(5,s={x1:T(f.x1,p.x1,a),y1:T(f.y1,p.y1,a),x2:T(f.x2,p.x2,a),y2:T(f.y2,p.y2,a)}),e.$$.dirty&96&&n(2,o=`M ${r.x1} ${r.y1} L ${r.x2} ${r.y2} L ${s.x1} ${s.y1}`)},[i,u,o,l,m,s,r,a]}class Fe extends Z{constructor(t){super(),G(this,t,Ke,qe,R,{open:4,size:0,strokeWidth:1})}}function le(e,t,n){const r=e.slice();return r[21]=t[n],r[23]=n,r}function ae(e){let t,n,r,s,o,a,m,i=e[1],u=[];for(let l=0;l<i.length;l+=1)u[l]=ie(le(e,i,l));return{c(){t=D("div");for(let l=0;l<u.length;l+=1)u[l].c();this.h()},l(l){t=j(l,"DIV",{class:!0,role:!0,style:!0});var h=x(t);for(let f=0;f<u.length;f+=1)u[f].l(h);h.forEach(y),this.h()},h(){c(t,"class","dropdown-menu svelte-4df8jd"),c(t,"role","listbox"),c(t,"style",n=`top:${e[7]}px; right:${e[8]}px;`)},m(l,h){L(l,t,h);for(let f=0;f<u.length;f+=1)u[f].m(t,null);e[14](t),o=!0,a||(m=[W(t,"wheel",e[11]),W(t,"touchmove",e[12])],a=!0)},p(l,h){if(e=l,h&1027){i=e[1];let f;for(f=0;f<i.length;f+=1){const b=le(e,i,f);u[f]?u[f].p(b,h):(u[f]=ie(b),u[f].c(),u[f].m(t,null))}for(;f<u.length;f+=1)u[f].d(1);u.length=i.length}(!o||h&384&&n!==(n=`top:${e[7]}px; right:${e[8]}px;`))&&c(t,"style",n)},i(l){o||(De(()=>{s&&s.end(1),r=je(t,ue,{duration:300,easing:Ve}),r.start()}),o=!0)},o(l){r&&r.invalidate(),s=Ae(t,ue,{duration:200,easing:Ne}),o=!1},d(l){l&&y(t),Ie(u,l),e[14](null),l&&s&&s.end(),a=!1,Le(m)}}}function ie(e){let t,n,r,s,o,a=e[21].label+"",m,i,u,l,h,f;function b(){return e[13](e[23])}return{c(){t=D("button"),n=D("span"),s=M(),o=D("span"),m=fe(a),i=M(),this.h()},l(p){t=j(p,"BUTTON",{role:!0,"aria-selected":!0,class:!0});var v=x(t);n=j(v,"SPAN",{class:!0,"aria-hidden":!0}),x(n).forEach(y),s=z(v),o=j(v,"SPAN",{class:!0});var g=x(o);m=de(g,a),g.forEach(y),i=z(v),v.forEach(y),this.h()},h(){c(n,"class",r=B(`option-dot ${e[23]===e[0]?"bg-white":"bg-white/40"}`)+" svelte-4df8jd"),c(n,"aria-hidden","true"),c(o,"class","option-label svelte-4df8jd"),c(t,"role","option"),c(t,"aria-selected",u=e[23]===e[0]),c(t,"class",l=B(`dropdown-option ${e[23]===e[0]?"is-active":""}`)+" svelte-4df8jd")},m(p,v){L(p,t,v),E(t,n),E(t,s),E(t,o),E(o,m),E(t,i),h||(f=W(t,"click",b),h=!0)},p(p,v){e=p,v&1&&r!==(r=B(`option-dot ${e[23]===e[0]?"bg-white":"bg-white/40"}`)+" svelte-4df8jd")&&c(n,"class",r),v&2&&a!==(a=e[21].label+"")&&he(m,a),v&1&&u!==(u=e[23]===e[0])&&c(t,"aria-selected",u),v&1&&l!==(l=B(`dropdown-option ${e[23]===e[0]?"is-active":""}`)+" svelte-4df8jd")&&c(t,"class",l)},d(p){p&&y(t),h=!1,f()}}}function Je(e){var v;let t,n,r,s=(((v=e[1][e[0]])==null?void 0:v.label)??e[2])+"",o,a,m,i,u,l,h,f,b;i=new Fe({props:{open:e[4],size:"18px"}});let p=e[4]&&ae(e);return{c(){t=D("div"),n=D("button"),r=D("span"),o=fe(s),a=M(),m=D("span"),q(i.$$.fragment),u=M(),p&&p.c(),this.h()},l(g){t=j(g,"DIV",{class:!0});var w=x(t);n=j(w,"BUTTON",{type:!0,class:!0,"aria-haspopup":!0,"aria-expanded":!0});var _=x(n);r=j(_,"SPAN",{class:!0});var k=x(r);o=de(k,s),k.forEach(y),a=z(_),m=j(_,"SPAN",{class:!0});var A=x(m);K(i.$$.fragment,A),A.forEach(y),_.forEach(y),u=z(w),p&&p.l(w),w.forEach(y),this.h()},h(){c(r,"class","dropdown-label svelte-4df8jd"),c(m,"class","chevron-wrapper svelte-4df8jd"),c(n,"type","button"),c(n,"class","dropdown-trigger svelte-4df8jd"),c(n,"aria-haspopup","listbox"),c(n,"aria-expanded",e[4]),c(t,"class",l="dropdown-root "+(e[3]==="subtle"?"is-subtle":"")+" svelte-4df8jd")},m(g,w){L(g,t,w),E(t,n),E(n,r),E(r,o),E(n,a),E(n,m),F(i,m,null),E(t,u),p&&p.m(t,null),e[15](t),h=!0,f||(b=W(n,"click",e[9]),f=!0)},p(g,[w]){var k;(!h||w&7)&&s!==(s=(((k=g[1][g[0]])==null?void 0:k.label)??g[2])+"")&&he(o,s);const _={};w&16&&(_.open=g[4]),i.$set(_),(!h||w&16)&&c(n,"aria-expanded",g[4]),g[4]?p?(p.p(g,w),w&16&&S(p,1)):(p=ae(g),p.c(),S(p,1),p.m(t,null)):p&&(pe(),C(p,1,1,()=>{p=null}),me()),(!h||w&8&&l!==(l="dropdown-root "+(g[3]==="subtle"?"is-subtle":"")+" svelte-4df8jd"))&&c(t,"class",l)},i(g){h||(S(i.$$.fragment,g),S(p),h=!0)},o(g){C(i.$$.fragment,g),C(p),h=!1},d(g){g&&y(t),J(i),p&&p.d(),e[15](null),f=!1,b()}}}function ue(e,{duration:t,easing:n,y:r=10,startScale:s=.98}){const o=getComputedStyle(e),a=o.transform==="none"?"":o.transform;return{delay:0,duration:t,easing:n,css:(m,i)=>{const u=Math.pow(i,5),l=Math.min(1,Math.max(0,m*1.2-.2));return`
          transform: ${a} translateY(${u*r}px) scale(${s+(1-s)*l});
          opacity: ${m};
        `}}}function Xe(e,t,n){let{items:r=[]}=t,{selectedIndex:s=0}=t,{placeholder:o="Select"}=t,{variant:a="default"}=t;const m=Ee();let i=!1,u=null,l=null,h=0,f=0;function b(){if(!u)return;const d=u.getBoundingClientRect();n(7,h=d.bottom+8),n(8,f=Math.max(window.innerWidth-d.right,8))}function p(){n(4,i=!i),i&&b()}function v(){n(4,i=!1)}function g(d){n(0,s=d),m("select",{index:d}),v()}function w(d){if(!i&&(d.key==="Enter"||d.key===" "||d.key==="ArrowDown")){d.preventDefault(),n(4,i=!0);return}if(i){if(d.key==="Escape")d.preventDefault(),v();else if(d.key==="ArrowDown"){d.preventDefault();const I=Math.min(s+1,r.length-1);g(I)}else if(d.key==="ArrowUp"){d.preventDefault();const I=Math.max(s-1,0);g(I)}}}function _(d){if(!u)return;const I=d.target;u.contains(I)||v()}function k(d){if(!l)return;const{scrollTop:I,scrollHeight:H,clientHeight:U}=l,_e=I===0,ve=I+U>=H,ge=d.deltaY<0,we=d.deltaY>0;ge&&!_e||we&&!ve||d.preventDefault()}function A(d){if(!l)return;const{scrollTop:I,scrollHeight:H,clientHeight:U}=l;H>U||d.preventDefault()}xe(()=>(document.addEventListener("click",_),document.addEventListener("keydown",w),window.addEventListener("resize",b),window.addEventListener("scroll",b,!0),()=>{document.removeEventListener("click",_),document.removeEventListener("keydown",w),window.removeEventListener("resize",b),window.removeEventListener("scroll",b,!0)}));const O=d=>g(d);function V(d){te[d?"unshift":"push"](()=>{l=d,n(6,l)})}function N(d){te[d?"unshift":"push"](()=>{u=d,n(5,u)})}return e.$$set=d=>{"items"in d&&n(1,r=d.items),"selectedIndex"in d&&n(0,s=d.selectedIndex),"placeholder"in d&&n(2,o=d.placeholder),"variant"in d&&n(3,a=d.variant)},[s,r,o,a,i,u,l,h,f,p,g,k,A,O,V,N]}class Ze extends Z{constructor(t){super(),G(this,t,Xe,Je,R,{items:1,selectedIndex:0,placeholder:2,variant:3})}}function ce(e){let t,n;const r=e[5].default,s=Te(r,e,e[4],null);return{c(){t=D("div"),s&&s.c(),this.h()},l(o){t=j(o,"DIV",{class:!0});var a=x(t);s&&s.l(a),a.forEach(y),this.h()},h(){c(t,"class","flex flex-col mx-auto w-screen max-w-screen-2xl px-5 md:px-[2.5rem] xl:px-[5rem] pt-16 md:pt-20")},m(o,a){L(o,t,a),s&&s.m(t,null),n=!0},p(o,a){s&&s.p&&(!n||a&16)&&Me(s,r,o,o[4],n?Ce(r,o[4],a,null):ze(o[4]),null)},i(o){n||(S(s,o),n=!0)},o(o){C(s,o),n=!1},d(o){o&&y(t),s&&s.d(o)}}}function Ge(e){let t,n,r,s,o,a,m,i,u,l,h,f,b,p=e[2].url.pathname,v,g;u=new Pe({props:{name:"arrow-left",size:"1em",class:"text-white"}}),f=new Ze({props:{items:e[0],selectedIndex:e[1],placeholder:"Sections",variant:"subtle"}}),f.$on("select",e[6]);let w=ce(e);return{c(){t=D("meta"),n=M(),r=D("nav"),s=D("div"),o=M(),a=D("div"),m=D("div"),i=D("a"),q(u.$$.fragment),l=M(),h=D("div"),q(f.$$.fragment),b=M(),w.c(),v=ne(),this.h()},l(_){const k=Se("svelte-1yt0nln",document.head);t=j(k,"META",{name:!0,content:!0}),k.forEach(y),n=z(_),r=j(_,"NAV",{class:!0});var A=x(r);s=j(A,"DIV",{class:!0}),x(s).forEach(y),o=z(A),a=j(A,"DIV",{class:!0});var O=x(a);m=j(O,"DIV",{class:!0});var V=x(m);i=j(V,"A",{href:!0,"aria-label":!0,class:!0});var N=x(i);K(u.$$.fragment,N),N.forEach(y),V.forEach(y),l=z(O),h=j(O,"DIV",{class:!0});var d=x(h);K(f.$$.fragment,d),d.forEach(y),O.forEach(y),A.forEach(y),b=z(_),w.l(_),v=ne(),this.h()},h(){c(t,"name","robots"),c(t,"content","noindex, nofollow, noarchive, noimageindex"),c(s,"class","absolute inset-x-0 top-0 h-28 md:h-32 bg-gradient-to-b from-background via-background/80 to-transparent pointer-events-none"),c(i,"href","/essays"),c(i,"aria-label","Back to essays"),c(i,"class","p-2 -ml-2"),c(m,"class","flex flex-row items-center space-x-2 md:space-x-3 pointer-events-auto"),c(h,"class","flex items-center pointer-events-auto"),c(a,"class","relative z-10 flex flex-row justify-between items-center mx-auto w-full max-w-screen-2xl px-5 md:px-[2.5rem] xl:px-[5rem] h-16 md:h-20"),c(r,"class","w-full fixed top-0 z-50 bg-transparent pointer-events-none")},m(_,k){E(document.head,t),L(_,n,k),L(_,r,k),E(r,s),E(r,o),E(r,a),E(a,m),E(m,i),F(u,i,null),E(a,l),E(a,h),F(f,h,null),L(_,b,k),w.m(_,k),L(_,v,k),g=!0},p(_,[k]){const A={};k&1&&(A.items=_[0]),k&2&&(A.selectedIndex=_[1]),f.$set(A),k&4&&R(p,p=_[2].url.pathname)?(pe(),C(w,1,1,Y),me(),w=ce(_),w.c(),S(w,1),w.m(v.parentNode,v)):w.p(_,k)},i(_){g||(S(u.$$.fragment,_),S(f.$$.fragment,_),S(w),g=!0)},o(_){C(u.$$.fragment,_),C(f.$$.fragment,_),C(w),g=!1},d(_){y(t),_&&y(n),_&&y(r),J(u),J(f),_&&y(b),_&&y(v),w.d(_)}}}function Qe(e,t,n){let r,s,o;P(e,re,l=>n(0,r=l)),P(e,se,l=>n(1,s=l)),P(e,Be,l=>n(2,o=l));let{$$slots:a={},$$scope:m}=t;function i(l){se.set(l),re.subscribe(async f=>{const b=f[l];b&&await Re(async()=>{const p=He({spacing:"md"});await Ue(`#${b.id}`,{duration:600,ease:"out-expo",offset:p})})})()}const u=l=>i(l.detail.index);return e.$$set=l=>{"$$scope"in l&&n(4,m=l.$$scope)},[r,s,o,i,m,a,u]}class lt extends Z{constructor(t){super(),G(this,t,Qe,Ge,R,{})}}export{lt as default};

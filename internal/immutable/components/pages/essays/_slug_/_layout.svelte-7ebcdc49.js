import{$ as Z,a3 as be,a4 as ye,D as ke,S as J,i as X,s as U,Z as G,_ as Q,m as E,h as b,n as d,b as z,F as y,C as F,E as R,k as D,q as ue,a as L,x as O,l as x,r as ce,c as T,y as V,z as N,H,u as fe,f as I,g as de,t as A,d as pe,A as B,a5 as Ee,o as De,I as xe,J as Ie,K as je,R as Ae,L as Se,a6 as W,v as $,e as ee,V as Le,W as Te,X as Me,Y as ze}from"../../../../chunks/index-1b60df3c.js";import{c as Ce,e as Oe,a as Ve}from"../../../../chunks/index-12c2143a.js";import{p as Ne}from"../../../../chunks/stores-de652803.js";import{I as Be}from"../../../../chunks/Icon-bf4450dd.js";import{w as Pe}from"../../../../chunks/index-9ebf557e.js";import{F as We}from"../../../../chunks/Footer-739aa8a2.js";import{s as te,a as ne,w as Re}from"../../../../chunks/essayNav-a8b4dd3d.js";import{g as He,r as Ue}from"../../../../chunks/reliableScroll-d53edb5e.js";import{S as Ye}from"../../../../chunks/Separator-e4a3d9e5.js";function se(t){return Object.prototype.toString.call(t)==="[object Date]"}function K(t,e){if(t===e||t!==t)return()=>t;const n=typeof t;if(n!==typeof e||Array.isArray(t)!==Array.isArray(e))throw new Error("Cannot interpolate values of different type");if(Array.isArray(t)){const o=e.map((r,u)=>K(t[u],r));return r=>o.map(u=>u(r))}if(n==="object"){if(!t||!e)throw new Error("Object cannot be null");if(se(t)&&se(e)){t=t.getTime(),e=e.getTime();const u=e-t;return a=>new Date(t+a*u)}const o=Object.keys(e),r={};return o.forEach(u=>{r[u]=K(t[u],e[u])}),u=>{const a={};return o.forEach(p=>{a[p]=r[p](u)}),a}}if(n==="number"){const o=e-t;return r=>t+r*o}throw new Error(`Cannot interpolate ${n} values`)}function qe(t,e={}){const n=Pe(t);let o,r=t;function u(a,p){if(t==null)return n.set(t=a),Promise.resolve();r=a;let f=o,l=!1,{delay:s=0,duration:c=400,easing:h=ke,interpolate:w=K}=Z(Z({},e),p);if(c===0)return f&&(f.abort(),f=null),n.set(t=r),Promise.resolve();const m=be()+s;let _;return o=ye(i=>{if(i<m)return!0;l||(_=w(t,a),typeof c=="function"&&(c=c(t,a)),l=!0),f&&(f.abort(),f=null);const v=i-m;return v>c?(n.set(t=a),!1):(n.set(t=_(h(v/c))),!0)}),o.promise}return{set:u,update:(a,p)=>u(a(r,t),p),subscribe:n.subscribe}}function Fe(t){let e,n;return{c(){e=G("svg"),n=G("path"),this.h()},l(o){e=Q(o,"svg",{width:!0,height:!0,viewBox:!0,fill:!0,xmlns:!0,class:!0,"aria-hidden":!0});var r=E(e);n=Q(r,"path",{d:!0,fill:!0,stroke:!0,"stroke-width":!0,"stroke-linecap":!0,"stroke-linejoin":!0,"vector-effect":!0}),E(n).forEach(b),r.forEach(b),this.h()},h(){d(n,"d",t[2]),d(n,"fill","none"),d(n,"stroke","currentColor"),d(n,"stroke-width",t[1]),d(n,"stroke-linecap","round"),d(n,"stroke-linejoin","round"),d(n,"vector-effect","non-scaling-stroke"),d(e,"width",t[0]),d(e,"height",t[0]),d(e,"viewBox","0 0 24 24"),d(e,"fill","none"),d(e,"xmlns","http://www.w3.org/2000/svg"),d(e,"class","chevron-svg svelte-9q6psm"),d(e,"aria-hidden","true")},m(o,r){z(o,e,r),y(e,n)},p(o,[r]){r&4&&d(n,"d",o[2]),r&2&&d(n,"stroke-width",o[1]),r&1&&d(e,"width",o[0]),r&1&&d(e,"height",o[0])},i:F,o:F,d(o){o&&b(e)}}}function M(t,e,n){return t+(e-t)*n}function Ke(t,e,n){let o,r,u,a,{open:p=!1}=e,{size:f="18px"}=e,{strokeWidth:l=1.5}=e;const s=qe(0,{duration:180,easing:Ce});R(t,s,_=>n(7,a=_));const c={x1:7,y1:10,x2:12,y2:15},h={x1:17,y1:10,x2:12,y2:15},w={x1:7,y1:14,x2:12,y2:9},m={x1:17,y1:14,x2:12,y2:9};return t.$$set=_=>{"open"in _&&n(4,p=_.open),"size"in _&&n(0,f=_.size),"strokeWidth"in _&&n(1,l=_.strokeWidth)},t.$$.update=()=>{t.$$.dirty&16&&s.set(p?1:0),t.$$.dirty&128&&n(6,o={x1:M(c.x1,w.x1,a),y1:M(c.y1,w.y1,a),x2:M(c.x2,w.x2,a),y2:M(c.y2,w.y2,a)}),t.$$.dirty&128&&n(5,r={x1:M(h.x1,m.x1,a),y1:M(h.y1,m.y1,a),x2:M(h.x2,m.x2,a),y2:M(h.y2,m.y2,a)}),t.$$.dirty&96&&n(2,u=`M ${o.x1} ${o.y1} L ${o.x2} ${o.y2} L ${r.x1} ${r.y1}`)},[f,l,u,s,p,r,o,a]}class Je extends J{constructor(e){super(),X(this,e,Ke,Fe,U,{open:4,size:0,strokeWidth:1})}}function re(t,e,n){const o=t.slice();return o[21]=e[n],o[23]=n,o}function oe(t){let e,n,o,r,u,a,p,f=t[1],l=[];for(let s=0;s<f.length;s+=1)l[s]=le(re(t,f,s));return{c(){e=D("div");for(let s=0;s<l.length;s+=1)l[s].c();this.h()},l(s){e=x(s,"DIV",{class:!0,role:!0,style:!0});var c=E(e);for(let h=0;h<l.length;h+=1)l[h].l(c);c.forEach(b),this.h()},h(){d(e,"class","dropdown-menu svelte-4df8jd"),d(e,"role","listbox"),d(e,"style",n=`top:${t[7]}px; right:${t[8]}px;`)},m(s,c){z(s,e,c);for(let h=0;h<l.length;h+=1)l[h].m(e,null);t[14](e),u=!0,a||(p=[H(e,"wheel",t[11]),H(e,"touchmove",t[12])],a=!0)},p(s,c){if(t=s,c&1027){f=t[1];let h;for(h=0;h<f.length;h+=1){const w=re(t,f,h);l[h]?l[h].p(w,c):(l[h]=le(w),l[h].c(),l[h].m(e,null))}for(;h<l.length;h+=1)l[h].d(1);l.length=f.length}(!u||c&384&&n!==(n=`top:${t[7]}px; right:${t[8]}px;`))&&d(e,"style",n)},i(s){u||(xe(()=>{r&&r.end(1),o=Ie(e,ae,{duration:300,easing:Oe}),o.start()}),u=!0)},o(s){o&&o.invalidate(),r=je(e,ae,{duration:200,easing:Ve}),u=!1},d(s){s&&b(e),Ae(l,s),t[14](null),s&&r&&r.end(),a=!1,Se(p)}}}function le(t){let e,n,o,r,u,a=t[21].label+"",p,f,l,s,c,h;function w(){return t[13](t[23])}return{c(){e=D("button"),n=D("span"),r=L(),u=D("span"),p=ue(a),f=L(),this.h()},l(m){e=x(m,"BUTTON",{role:!0,"aria-selected":!0,class:!0});var _=E(e);n=x(_,"SPAN",{class:!0,"aria-hidden":!0}),E(n).forEach(b),r=T(_),u=x(_,"SPAN",{class:!0});var i=E(u);p=ce(i,a),i.forEach(b),f=T(_),_.forEach(b),this.h()},h(){d(n,"class",o=W(`option-dot ${t[23]===t[0]?"bg-white":"bg-white/40"}`)+" svelte-4df8jd"),d(n,"aria-hidden","true"),d(u,"class","option-label svelte-4df8jd"),d(e,"role","option"),d(e,"aria-selected",l=t[23]===t[0]),d(e,"class",s=W(`dropdown-option ${t[23]===t[0]?"is-active":""}`)+" svelte-4df8jd")},m(m,_){z(m,e,_),y(e,n),y(e,r),y(e,u),y(u,p),y(e,f),c||(h=H(e,"click",w),c=!0)},p(m,_){t=m,_&1&&o!==(o=W(`option-dot ${t[23]===t[0]?"bg-white":"bg-white/40"}`)+" svelte-4df8jd")&&d(n,"class",o),_&2&&a!==(a=t[21].label+"")&&fe(p,a),_&1&&l!==(l=t[23]===t[0])&&d(e,"aria-selected",l),_&1&&s!==(s=W(`dropdown-option ${t[23]===t[0]?"is-active":""}`)+" svelte-4df8jd")&&d(e,"class",s)},d(m){m&&b(e),c=!1,h()}}}function Xe(t){var _;let e,n,o,r=(((_=t[1][t[0]])==null?void 0:_.label)??t[2])+"",u,a,p,f,l,s,c,h,w;f=new Je({props:{open:t[4],size:"18px"}});let m=t[4]&&oe(t);return{c(){e=D("div"),n=D("button"),o=D("span"),u=ue(r),a=L(),p=D("span"),O(f.$$.fragment),l=L(),m&&m.c(),this.h()},l(i){e=x(i,"DIV",{class:!0});var v=E(e);n=x(v,"BUTTON",{type:!0,class:!0,"aria-haspopup":!0,"aria-expanded":!0});var k=E(n);o=x(k,"SPAN",{class:!0});var j=E(o);u=ce(j,r),j.forEach(b),a=T(k),p=x(k,"SPAN",{class:!0});var C=E(p);V(f.$$.fragment,C),C.forEach(b),k.forEach(b),l=T(v),m&&m.l(v),v.forEach(b),this.h()},h(){d(o,"class","dropdown-label svelte-4df8jd"),d(p,"class","chevron-wrapper svelte-4df8jd"),d(n,"type","button"),d(n,"class","dropdown-trigger svelte-4df8jd"),d(n,"aria-haspopup","listbox"),d(n,"aria-expanded",t[4]),d(e,"class",s="dropdown-root "+(t[3]==="subtle"?"is-subtle":"")+" svelte-4df8jd")},m(i,v){z(i,e,v),y(e,n),y(n,o),y(o,u),y(n,a),y(n,p),N(f,p,null),y(e,l),m&&m.m(e,null),t[15](e),c=!0,h||(w=H(n,"click",t[9]),h=!0)},p(i,[v]){var j;(!c||v&7)&&r!==(r=(((j=i[1][i[0]])==null?void 0:j.label)??i[2])+"")&&fe(u,r);const k={};v&16&&(k.open=i[4]),f.$set(k),(!c||v&16)&&d(n,"aria-expanded",i[4]),i[4]?m?(m.p(i,v),v&16&&I(m,1)):(m=oe(i),m.c(),I(m,1),m.m(e,null)):m&&(de(),A(m,1,1,()=>{m=null}),pe()),(!c||v&8&&s!==(s="dropdown-root "+(i[3]==="subtle"?"is-subtle":"")+" svelte-4df8jd"))&&d(e,"class",s)},i(i){c||(I(f.$$.fragment,i),I(m),c=!0)},o(i){A(f.$$.fragment,i),A(m),c=!1},d(i){i&&b(e),B(f),m&&m.d(),t[15](null),h=!1,w()}}}function ae(t,{duration:e,easing:n,y:o=10,startScale:r=.98}){const u=getComputedStyle(t),a=u.transform==="none"?"":u.transform;return{delay:0,duration:e,easing:n,css:(p,f)=>{const l=Math.pow(f,5),s=Math.min(1,Math.max(0,p*1.2-.2));return`
          transform: ${a} translateY(${l*o}px) scale(${r+(1-r)*s});
          opacity: ${p};
        `}}}function Ze(t,e,n){let{items:o=[]}=e,{selectedIndex:r=0}=e,{placeholder:u="Select"}=e,{variant:a="default"}=e;const p=Ee();let f=!1,l=null,s=null,c=0,h=0;function w(){if(!l)return;const g=l.getBoundingClientRect();n(7,c=g.bottom+8),n(8,h=Math.max(window.innerWidth-g.right,8))}function m(){n(4,f=!f),f&&w()}function _(){n(4,f=!1)}function i(g){n(0,r=g),p("select",{index:g}),_()}function v(g){if(!f&&(g.key==="Enter"||g.key===" "||g.key==="ArrowDown")){g.preventDefault(),n(4,f=!0);return}if(f){if(g.key==="Escape")g.preventDefault(),_();else if(g.key==="ArrowDown"){g.preventDefault();const S=Math.min(r+1,o.length-1);i(S)}else if(g.key==="ArrowUp"){g.preventDefault();const S=Math.max(r-1,0);i(S)}}}function k(g){if(!l)return;const S=g.target;l.contains(S)||_()}function j(g){if(!s)return;const{scrollTop:S,scrollHeight:Y,clientHeight:q}=s,_e=S===0,ge=S+q>=Y,ve=g.deltaY<0,we=g.deltaY>0;ve&&!_e||we&&!ge||g.preventDefault()}function C(g){if(!s)return;const{scrollTop:S,scrollHeight:Y,clientHeight:q}=s;Y>q||g.preventDefault()}De(()=>(document.addEventListener("click",k),document.addEventListener("keydown",v),window.addEventListener("resize",w),window.addEventListener("scroll",w,!0),()=>{document.removeEventListener("click",k),document.removeEventListener("keydown",v),window.removeEventListener("resize",w),window.removeEventListener("scroll",w,!0)}));const P=g=>i(g);function he(g){$[g?"unshift":"push"](()=>{s=g,n(6,s)})}function me(g){$[g?"unshift":"push"](()=>{l=g,n(5,l)})}return t.$$set=g=>{"items"in g&&n(1,o=g.items),"selectedIndex"in g&&n(0,r=g.selectedIndex),"placeholder"in g&&n(2,u=g.placeholder),"variant"in g&&n(3,a=g.variant)},[r,o,u,a,f,l,s,c,h,m,i,j,C,P,he,me]}class Ge extends J{constructor(e){super(),X(this,e,Ze,Xe,U,{items:1,selectedIndex:0,placeholder:2,variant:3})}}function ie(t){let e,n,o,r,u,a,p;const f=t[5].default,l=Le(f,t,t[4],null);return r=new Ye({}),a=new We({}),{c(){e=D("div"),l&&l.c(),n=L(),o=D("div"),O(r.$$.fragment),u=L(),O(a.$$.fragment),this.h()},l(s){e=x(s,"DIV",{class:!0});var c=E(e);l&&l.l(c),n=T(c),o=x(c,"DIV",{class:!0});var h=E(o);V(r.$$.fragment,h),h.forEach(b),u=T(c),V(a.$$.fragment,c),c.forEach(b),this.h()},h(){d(o,"class","pt-3.5 md:pt-6"),d(e,"class","flex flex-col mx-auto w-screen max-w-screen-2xl px-5 md:px-[2.5rem] xl:px-[5rem] pt-16 md:pt-20 space-y-8")},m(s,c){z(s,e,c),l&&l.m(e,null),y(e,n),y(e,o),N(r,o,null),y(e,u),N(a,e,null),p=!0},p(s,c){l&&l.p&&(!p||c&16)&&Te(l,f,s,s[4],p?ze(f,s[4],c,null):Me(s[4]),null)},i(s){p||(I(l,s),I(r.$$.fragment,s),I(a.$$.fragment,s),p=!0)},o(s){A(l,s),A(r.$$.fragment,s),A(a.$$.fragment,s),p=!1},d(s){s&&b(e),l&&l.d(s),B(r),B(a)}}}function Qe(t){let e,n,o,r,u,a,p,f,l,s,c,h=t[2].url.pathname,w,m;p=new Be({props:{name:"arrow-left",size:"1em",class:"text-white"}}),s=new Ge({props:{items:t[0],selectedIndex:t[1],placeholder:"Sections",variant:"subtle"}}),s.$on("select",t[6]);let _=ie(t);return{c(){e=D("nav"),n=D("div"),o=L(),r=D("div"),u=D("div"),a=D("a"),O(p.$$.fragment),f=L(),l=D("div"),O(s.$$.fragment),c=L(),_.c(),w=ee(),this.h()},l(i){e=x(i,"NAV",{class:!0});var v=E(e);n=x(v,"DIV",{class:!0}),E(n).forEach(b),o=T(v),r=x(v,"DIV",{class:!0});var k=E(r);u=x(k,"DIV",{class:!0});var j=E(u);a=x(j,"A",{href:!0,"aria-label":!0,class:!0});var C=E(a);V(p.$$.fragment,C),C.forEach(b),j.forEach(b),f=T(k),l=x(k,"DIV",{class:!0});var P=E(l);V(s.$$.fragment,P),P.forEach(b),k.forEach(b),v.forEach(b),c=T(i),_.l(i),w=ee(),this.h()},h(){d(n,"class","absolute inset-x-0 top-0 h-28 md:h-32 bg-gradient-to-b from-background via-background/80 to-transparent pointer-events-none"),d(a,"href","/essays"),d(a,"aria-label","Back to essays"),d(a,"class","p-2 -ml-2"),d(u,"class","flex flex-row items-center space-x-2 md:space-x-3 pointer-events-auto"),d(l,"class","flex items-center pointer-events-auto"),d(r,"class","relative z-10 flex flex-row justify-between items-center mx-auto w-full max-w-screen-2xl px-5 md:px-[2.5rem] xl:px-[5rem] h-16 md:h-20"),d(e,"class","w-full fixed top-0 z-50 bg-transparent pointer-events-none")},m(i,v){z(i,e,v),y(e,n),y(e,o),y(e,r),y(r,u),y(u,a),N(p,a,null),y(r,f),y(r,l),N(s,l,null),z(i,c,v),_.m(i,v),z(i,w,v),m=!0},p(i,[v]){const k={};v&1&&(k.items=i[0]),v&2&&(k.selectedIndex=i[1]),s.$set(k),v&4&&U(h,h=i[2].url.pathname)?(de(),A(_,1,1,F),pe(),_=ie(i),_.c(),I(_,1),_.m(w.parentNode,w)):_.p(i,v)},i(i){m||(I(p.$$.fragment,i),I(s.$$.fragment,i),I(_),m=!0)},o(i){A(p.$$.fragment,i),A(s.$$.fragment,i),A(_),m=!1},d(i){i&&b(e),B(p),B(s),i&&b(c),i&&b(w),_.d(i)}}}function $e(t,e,n){let o,r,u;R(t,ne,s=>n(0,o=s)),R(t,te,s=>n(1,r=s)),R(t,Ne,s=>n(2,u=s));let{$$slots:a={},$$scope:p}=e;function f(s){te.set(s),ne.subscribe(async h=>{const w=h[s];w&&await Re(async()=>{const m=He({spacing:"lg"});await Ue(`#${w.id}`,{duration:600,ease:"out-expo",offset:m})})})()}const l=s=>f(s.detail.index);return t.$$set=s=>{"$$scope"in s&&n(4,p=s.$$scope)},[o,r,u,f,p,a,l]}class ut extends J{constructor(e){super(),X(this,e,$e,Qe,U,{})}}export{ut as default};

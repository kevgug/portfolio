import{$ as Z,a4 as _e,a5 as ge,D as ve,S as J,i as X,s as W,Z as G,_ as Q,m as x,h as y,n as c,b as L,F as E,C as U,E as B,k as D,q as fe,a as z,x as q,l as I,r as de,c as T,y as K,z as Y,H as R,u as he,f as S,g as pe,t as C,d as me,A as F,a6 as we,o as be,a7 as $,I as ye,J as ke,K as Ee,R as xe,L as De,a8 as P,a9 as ee,v as te,e as ne,a3 as Ie,V as Ae,W as Le,X as Se,Y as Me}from"../../../../chunks/index-fbb6cef9.js";import{c as ze,e as Te,a as Ce}from"../../../../chunks/index-2a52954f.js";import{p as Oe}from"../../../../chunks/stores-71b808fe.js";import{I as Ve}from"../../../../chunks/Icon-a15ffe91.js";import{w as je}from"../../../../chunks/index-22137f87.js";import{s as se,a as re,w as Ne}from"../../../../chunks/essayNav-168cf201.js";import{g as Pe,r as Be}from"../../../../chunks/reliableScroll-d2bb4d55.js";function oe(e){return Object.prototype.toString.call(e)==="[object Date]"}function H(e,t){if(e===t||e!==e)return()=>e;const n=typeof e;if(n!==typeof t||Array.isArray(e)!==Array.isArray(t))throw new Error("Cannot interpolate values of different type");if(Array.isArray(e)){const r=t.map((s,o)=>H(e[o],s));return s=>r.map(o=>o(s))}if(n==="object"){if(!e||!t)throw new Error("Object cannot be null");if(oe(e)&&oe(t)){e=e.getTime(),t=t.getTime();const o=t-e;return l=>new Date(e+l*o)}const r=Object.keys(t),s={};return r.forEach(o=>{s[o]=H(e[o],t[o])}),o=>{const l={};return r.forEach(m=>{l[m]=s[m](o)}),l}}if(n==="number"){const r=t-e;return s=>e+s*r}throw new Error(`Cannot interpolate ${n} values`)}function Re(e,t={}){const n=je(e);let r,s=e;function o(l,m){if(e==null)return n.set(e=l),Promise.resolve();s=l;let i=r,u=!1,{delay:a=0,duration:d=400,easing:f=ve,interpolate:b=H}=Z(Z({},t),m);if(d===0)return i&&(i.abort(),i=null),n.set(e=s),Promise.resolve();const h=_e()+a;let g;return r=ge(v=>{if(v<h)return!0;u||(g=b(e,l),typeof d=="function"&&(d=d(e,l)),u=!0),i&&(i.abort(),i=null);const w=v-h;return w>d?(n.set(e=l),!1):(n.set(e=g(f(w/d))),!0)}),r.promise}return{set:o,update:(l,m)=>o(l(s,e),m),subscribe:n.subscribe}}function We(e){let t,n;return{c(){t=G("svg"),n=G("path"),this.h()},l(r){t=Q(r,"svg",{width:!0,height:!0,viewBox:!0,fill:!0,xmlns:!0,class:!0,"aria-hidden":!0});var s=x(t);n=Q(s,"path",{d:!0,fill:!0,stroke:!0,"stroke-width":!0,"stroke-linecap":!0,"stroke-linejoin":!0,"vector-effect":!0}),x(n).forEach(y),s.forEach(y),this.h()},h(){c(n,"d",e[2]),c(n,"fill","none"),c(n,"stroke","currentColor"),c(n,"stroke-width",e[1]),c(n,"stroke-linecap","round"),c(n,"stroke-linejoin","round"),c(n,"vector-effect","non-scaling-stroke"),c(t,"width",e[0]),c(t,"height",e[0]),c(t,"viewBox","0 0 24 24"),c(t,"fill","none"),c(t,"xmlns","http://www.w3.org/2000/svg"),c(t,"class","chevron-svg svelte-9q6psm"),c(t,"aria-hidden","true")},m(r,s){L(r,t,s),E(t,n)},p(r,[s]){s&4&&c(n,"d",r[2]),s&2&&c(n,"stroke-width",r[1]),s&1&&c(t,"width",r[0]),s&1&&c(t,"height",r[0])},i:U,o:U,d(r){r&&y(t)}}}function M(e,t,n){return e+(t-e)*n}function Ue(e,t,n){let r,s,o,l,{open:m=!1}=t,{size:i="18px"}=t,{strokeWidth:u=1.5}=t;const a=Re(0,{duration:180,easing:ze});B(e,a,g=>n(7,l=g));const d={x1:7,y1:10,x2:12,y2:15},f={x1:17,y1:10,x2:12,y2:15},b={x1:7,y1:14,x2:12,y2:9},h={x1:17,y1:14,x2:12,y2:9};return e.$$set=g=>{"open"in g&&n(4,m=g.open),"size"in g&&n(0,i=g.size),"strokeWidth"in g&&n(1,u=g.strokeWidth)},e.$$.update=()=>{e.$$.dirty&16&&a.set(m?1:0),e.$$.dirty&128&&n(6,r={x1:M(d.x1,b.x1,l),y1:M(d.y1,b.y1,l),x2:M(d.x2,b.x2,l),y2:M(d.y2,b.y2,l)}),e.$$.dirty&128&&n(5,s={x1:M(f.x1,h.x1,l),y1:M(f.y1,h.y1,l),x2:M(f.x2,h.x2,l),y2:M(f.y2,h.y2,l)}),e.$$.dirty&96&&n(2,o=`M ${r.x1} ${r.y1} L ${r.x2} ${r.y2} L ${s.x1} ${s.y1}`)},[i,u,o,a,m,s,r,l]}class qe extends J{constructor(t){super(),X(this,t,Ue,We,W,{open:4,size:0,strokeWidth:1})}}function le(e,t,n){const r=e.slice();return r[21]=t[n],r[23]=n,r}function ae(e){let t,n,r,s,o,l,m,i=e[1],u=[];for(let a=0;a<i.length;a+=1)u[a]=ie(le(e,i,a));return{c(){t=D("div");for(let a=0;a<u.length;a+=1)u[a].c();this.h()},l(a){t=I(a,"DIV",{class:!0,role:!0,style:!0});var d=x(t);for(let f=0;f<u.length;f+=1)u[f].l(d);d.forEach(y),this.h()},h(){c(t,"class","dropdown-menu svelte-7ge1nr"),c(t,"role","listbox"),c(t,"style",n=`top:${e[7]}px; right:${e[8]}px;`)},m(a,d){L(a,t,d);for(let f=0;f<u.length;f+=1)u[f].m(t,null);e[14](t),o=!0,l||(m=[R(t,"wheel",$(e[11])),R(t,"touchmove",$(e[12]))],l=!0)},p(a,d){if(e=a,d&1027){i=e[1];let f;for(f=0;f<i.length;f+=1){const b=le(e,i,f);u[f]?u[f].p(b,d):(u[f]=ie(b),u[f].c(),u[f].m(t,null))}for(;f<u.length;f+=1)u[f].d(1);u.length=i.length}(!o||d&384&&n!==(n=`top:${e[7]}px; right:${e[8]}px;`))&&c(t,"style",n)},i(a){o||(ye(()=>{s&&s.end(1),r=ke(t,ue,{duration:300,easing:Te}),r.start()}),o=!0)},o(a){r&&r.invalidate(),s=Ee(t,ue,{duration:200,easing:Ce}),o=!1},d(a){a&&y(t),xe(u,a),e[14](null),a&&s&&s.end(),l=!1,De(m)}}}function ie(e){let t,n,r,s,o,l=e[21].label+"",m,i,u,a,d,f;function b(){return e[13](e[23])}return{c(){t=D("button"),n=D("span"),s=z(),o=D("span"),m=fe(l),i=z(),this.h()},l(h){t=I(h,"BUTTON",{role:!0,"aria-selected":!0,class:!0});var g=x(t);n=I(g,"SPAN",{class:!0,"aria-hidden":!0}),x(n).forEach(y),s=T(g),o=I(g,"SPAN",{class:!0});var v=x(o);m=de(v,l),v.forEach(y),i=T(g),g.forEach(y),this.h()},h(){c(n,"class",r=P(`option-dot ${e[23]===e[0]?"bg-white":"bg-white/40"}`)+" svelte-7ge1nr"),c(n,"aria-hidden","true"),c(o,"class","option-label svelte-7ge1nr"),c(t,"role","option"),c(t,"aria-selected",u=e[23]===e[0]),c(t,"class",a=P(`dropdown-option ${e[23]===e[0]?"is-active":""}`)+" svelte-7ge1nr")},m(h,g){L(h,t,g),E(t,n),E(t,s),E(t,o),E(o,m),E(t,i),d||(f=R(t,"click",b),d=!0)},p(h,g){e=h,g&1&&r!==(r=P(`option-dot ${e[23]===e[0]?"bg-white":"bg-white/40"}`)+" svelte-7ge1nr")&&c(n,"class",r),g&2&&l!==(l=e[21].label+"")&&he(m,l),g&1&&u!==(u=e[23]===e[0])&&c(t,"aria-selected",u),g&1&&a!==(a=P(`dropdown-option ${e[23]===e[0]?"is-active":""}`)+" svelte-7ge1nr")&&c(t,"class",a)},d(h){h&&y(t),d=!1,f()}}}function Ke(e){var g;let t,n,r,s=(((g=e[1][e[0]])==null?void 0:g.label)??e[2])+"",o,l,m,i,u,a,d,f,b;i=new qe({props:{open:e[4],size:"18px"}});let h=e[4]&&ae(e);return{c(){t=D("div"),n=D("button"),r=D("span"),o=fe(s),l=z(),m=D("span"),q(i.$$.fragment),u=z(),h&&h.c(),this.h()},l(v){t=I(v,"DIV",{class:!0});var w=x(t);n=I(w,"BUTTON",{type:!0,class:!0,"aria-haspopup":!0,"aria-expanded":!0});var _=x(n);r=I(_,"SPAN",{class:!0});var k=x(r);o=de(k,s),k.forEach(y),l=T(_),m=I(_,"SPAN",{class:!0});var A=x(m);K(i.$$.fragment,A),A.forEach(y),_.forEach(y),u=T(w),h&&h.l(w),w.forEach(y),this.h()},h(){c(r,"class","dropdown-label svelte-7ge1nr"),c(m,"class","chevron-wrapper svelte-7ge1nr"),c(n,"type","button"),c(n,"class","dropdown-trigger svelte-7ge1nr"),c(n,"aria-haspopup","listbox"),c(n,"aria-expanded",e[4]),c(t,"class",a="dropdown-root "+(e[3]==="subtle"?"is-subtle":"")+" svelte-7ge1nr")},m(v,w){L(v,t,w),E(t,n),E(n,r),E(r,o),E(n,l),E(n,m),Y(i,m,null),E(t,u),h&&h.m(t,null),e[15](t),d=!0,f||(b=R(n,"click",e[9]),f=!0)},p(v,[w]){var k;(!d||w&7)&&s!==(s=(((k=v[1][v[0]])==null?void 0:k.label)??v[2])+"")&&he(o,s);const _={};w&16&&(_.open=v[4]),i.$set(_),(!d||w&16)&&c(n,"aria-expanded",v[4]),v[4]?h?(h.p(v,w),w&16&&S(h,1)):(h=ae(v),h.c(),S(h,1),h.m(t,null)):h&&(pe(),C(h,1,1,()=>{h=null}),me()),(!d||w&8&&a!==(a="dropdown-root "+(v[3]==="subtle"?"is-subtle":"")+" svelte-7ge1nr"))&&c(t,"class",a)},i(v){d||(S(i.$$.fragment,v),S(h),d=!0)},o(v){C(i.$$.fragment,v),C(h),d=!1},d(v){v&&y(t),F(i),h&&h.d(),e[15](null),f=!1,b()}}}function ue(e,{duration:t,easing:n,y:r=10,startScale:s=.98}){const o=getComputedStyle(e),l=o.transform==="none"?"":o.transform;return{delay:0,duration:t,easing:n,css:(m,i)=>{const u=Math.pow(i,5),a=Math.min(1,Math.max(0,m*1.2-.2));return`
          transform: ${l} translateY(${u*r}px) scale(${s+(1-s)*a});
          opacity: ${m};
        `}}}function Ye(e,t,n){let{items:r=[]}=t,{selectedIndex:s=0}=t,{placeholder:o="Select"}=t,{variant:l="default"}=t;const m=we();let i=!1,u=null,a=null,d=0,f=0;function b(){if(!u)return;const p=u.getBoundingClientRect();n(7,d=p.bottom+8),n(8,f=Math.max(window.innerWidth-p.right,8))}function h(){n(4,i=!i),i&&b()}function g(){n(4,i=!1)}function v(p){n(0,s=p),m("select",{index:p}),g()}function w(p){if(!i&&(p.key==="Enter"||p.key===" "||p.key==="ArrowDown")){p.preventDefault(),n(4,i=!0);return}if(i){if(p.key==="Escape")p.preventDefault(),g();else if(p.key==="ArrowDown"){p.preventDefault();const V=Math.min(s+1,r.length-1);v(V)}else if(p.key==="ArrowUp"){p.preventDefault();const V=Math.max(s-1,0);v(V)}}}function _(p){if(!u)return;const V=p.target;u.contains(V)||g()}be(()=>(document.addEventListener("click",_),document.addEventListener("keydown",w),window.addEventListener("resize",b),window.addEventListener("scroll",b,!0),()=>{document.removeEventListener("click",_),document.removeEventListener("keydown",w),window.removeEventListener("resize",b),window.removeEventListener("scroll",b,!0)}));function k(p){ee.call(this,e,p)}function A(p){ee.call(this,e,p)}const O=p=>v(p);function j(p){te[p?"unshift":"push"](()=>{a=p,n(6,a)})}function N(p){te[p?"unshift":"push"](()=>{u=p,n(5,u)})}return e.$$set=p=>{"items"in p&&n(1,r=p.items),"selectedIndex"in p&&n(0,s=p.selectedIndex),"placeholder"in p&&n(2,o=p.placeholder),"variant"in p&&n(3,l=p.variant)},[s,r,o,l,i,u,a,d,f,h,v,k,A,O,j,N]}class Fe extends J{constructor(t){super(),X(this,t,Ye,Ke,W,{items:1,selectedIndex:0,placeholder:2,variant:3})}}function ce(e){let t,n;const r=e[5].default,s=Ae(r,e,e[4],null);return{c(){t=D("div"),s&&s.c(),this.h()},l(o){t=I(o,"DIV",{class:!0});var l=x(t);s&&s.l(l),l.forEach(y),this.h()},h(){c(t,"class","flex flex-col mx-auto w-screen max-w-screen-2xl px-5 md:px-[2.5rem] xl:px-[5rem] pt-16 md:pt-20")},m(o,l){L(o,t,l),s&&s.m(t,null),n=!0},p(o,l){s&&s.p&&(!n||l&16)&&Le(s,r,o,o[4],n?Me(r,o[4],l,null):Se(o[4]),null)},i(o){n||(S(s,o),n=!0)},o(o){C(s,o),n=!1},d(o){o&&y(t),s&&s.d(o)}}}function He(e){let t,n,r,s,o,l,m,i,u,a,d,f,b,h=e[2].url.pathname,g,v;u=new Ve({props:{name:"arrow-left",size:"1em",class:"text-white"}}),f=new Fe({props:{items:e[0],selectedIndex:e[1],placeholder:"Sections",variant:"subtle"}}),f.$on("select",e[6]);let w=ce(e);return{c(){t=D("meta"),n=z(),r=D("nav"),s=D("div"),o=z(),l=D("div"),m=D("div"),i=D("a"),q(u.$$.fragment),a=z(),d=D("div"),q(f.$$.fragment),b=z(),w.c(),g=ne(),this.h()},l(_){const k=Ie("svelte-1yt0nln",document.head);t=I(k,"META",{name:!0,content:!0}),k.forEach(y),n=T(_),r=I(_,"NAV",{class:!0});var A=x(r);s=I(A,"DIV",{class:!0}),x(s).forEach(y),o=T(A),l=I(A,"DIV",{class:!0});var O=x(l);m=I(O,"DIV",{class:!0});var j=x(m);i=I(j,"A",{href:!0,"aria-label":!0,class:!0});var N=x(i);K(u.$$.fragment,N),N.forEach(y),j.forEach(y),a=T(O),d=I(O,"DIV",{class:!0});var p=x(d);K(f.$$.fragment,p),p.forEach(y),O.forEach(y),A.forEach(y),b=T(_),w.l(_),g=ne(),this.h()},h(){c(t,"name","robots"),c(t,"content","noindex, nofollow, noarchive, noimageindex"),c(s,"class","absolute inset-x-0 top-0 h-28 md:h-32 bg-gradient-to-b from-background via-background/80 to-transparent pointer-events-none"),c(i,"href","/essays"),c(i,"aria-label","Back to essays"),c(i,"class","p-2 -ml-2"),c(m,"class","flex flex-row items-center space-x-2 md:space-x-3 pointer-events-auto"),c(d,"class","flex items-center pointer-events-auto"),c(l,"class","relative z-10 flex flex-row justify-between items-center mx-auto w-full max-w-screen-2xl px-5 md:px-[2.5rem] xl:px-[5rem] h-16 md:h-20"),c(r,"class","w-full fixed top-0 z-50 bg-transparent pointer-events-none")},m(_,k){E(document.head,t),L(_,n,k),L(_,r,k),E(r,s),E(r,o),E(r,l),E(l,m),E(m,i),Y(u,i,null),E(l,a),E(l,d),Y(f,d,null),L(_,b,k),w.m(_,k),L(_,g,k),v=!0},p(_,[k]){const A={};k&1&&(A.items=_[0]),k&2&&(A.selectedIndex=_[1]),f.$set(A),k&4&&W(h,h=_[2].url.pathname)?(pe(),C(w,1,1,U),me(),w=ce(_),w.c(),S(w,1),w.m(g.parentNode,g)):w.p(_,k)},i(_){v||(S(u.$$.fragment,_),S(f.$$.fragment,_),S(w),v=!0)},o(_){C(u.$$.fragment,_),C(f.$$.fragment,_),C(w),v=!1},d(_){y(t),_&&y(n),_&&y(r),F(u),F(f),_&&y(b),_&&y(g),w.d(_)}}}function Je(e,t,n){let r,s,o;B(e,re,a=>n(0,r=a)),B(e,se,a=>n(1,s=a)),B(e,Oe,a=>n(2,o=a));let{$$slots:l={},$$scope:m}=t;function i(a){se.set(a),re.subscribe(async f=>{const b=f[a];b&&await Ne(async()=>{const h=Pe({spacing:"md"});await Be(`#${b.id}`,{duration:600,ease:"out-expo",offset:h})})})()}const u=a=>i(a.detail.index);return e.$$set=a=>{"$$scope"in a&&n(4,m=a.$$scope)},[r,s,o,i,m,l,u]}class nt extends J{constructor(t){super(),X(this,t,Je,He,W,{})}}export{nt as default};

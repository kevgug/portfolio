import{$ as ee,a3 as Ee,a4 as De,D as Ie,S as Q,i as $,s as q,Z as te,_ as ne,m as D,h as y,n as d,b as C,F as k,C as J,E as U,k as I,a as N,q as me,x as P,l as A,c as O,r as _e,y as B,z as W,H as Y,f as S,g as X,t as T,d as Z,u as ge,A as R,a5 as Ae,o as xe,I as Se,J as Le,K as Te,R as ze,L as Me,a6 as H,v as se,e as re,V as Ce,W as Ne,X as Oe,Y as Ve}from"../../../../chunks/index-1b60df3c.js";import{c as je,e as Pe,a as Be}from"../../../../chunks/index-2b5f4da1.js";import{p as We}from"../../../../chunks/stores-de652803.js";import{I as ve}from"../../../../chunks/Icon-253a9681.js";import{w as Re}from"../../../../chunks/index-9ebf557e.js";import{F as He}from"../../../../chunks/Footer-a261a34e.js";import{s as oe,a as le,w as Ue}from"../../../../chunks/essayNav-a8b4dd3d.js";import{g as Ye,r as qe}from"../../../../chunks/reliableScroll-1061ee45.js";function ae(t){return Object.prototype.toString.call(t)==="[object Date]"}function G(t,e){if(t===e||t!==t)return()=>t;const n=typeof t;if(n!==typeof e||Array.isArray(t)!==Array.isArray(e))throw new Error("Cannot interpolate values of different type");if(Array.isArray(t)){const r=e.map((s,a)=>G(t[a],s));return s=>r.map(a=>a(s))}if(n==="object"){if(!t||!e)throw new Error("Object cannot be null");if(ae(t)&&ae(e)){t=t.getTime(),e=e.getTime();const a=e-t;return l=>new Date(t+l*a)}const r=Object.keys(e),s={};return r.forEach(a=>{s[a]=G(t[a],e[a])}),a=>{const l={};return r.forEach(i=>{l[i]=s[i](a)}),l}}if(n==="number"){const r=e-t;return s=>t+s*r}throw new Error(`Cannot interpolate ${n} values`)}function Fe(t,e={}){const n=Re(t);let r,s=t;function a(l,i){if(t==null)return n.set(t=l),Promise.resolve();s=l;let f=r,c=!1,{delay:o=0,duration:g=400,easing:m=Ie,interpolate:v=G}=ee(ee({},e),i);if(g===0)return f&&(f.abort(),f=null),n.set(t=s),Promise.resolve();const w=Ee()+o;let p;return r=De(u=>{if(u<w)return!0;c||(p=v(t,l),typeof g=="function"&&(g=g(t,l)),c=!0),f&&(f.abort(),f=null);const _=u-w;return _>g?(n.set(t=l),!1):(n.set(t=p(m(_/g))),!0)}),r.promise}return{set:a,update:(l,i)=>a(l(s,t),i),subscribe:n.subscribe}}function Ke(t){let e,n;return{c(){e=te("svg"),n=te("path"),this.h()},l(r){e=ne(r,"svg",{width:!0,height:!0,viewBox:!0,fill:!0,xmlns:!0,class:!0,"aria-hidden":!0});var s=D(e);n=ne(s,"path",{d:!0,fill:!0,stroke:!0,"stroke-width":!0,"stroke-linecap":!0,"stroke-linejoin":!0,"vector-effect":!0}),D(n).forEach(y),s.forEach(y),this.h()},h(){d(n,"d",t[2]),d(n,"fill","none"),d(n,"stroke","currentColor"),d(n,"stroke-width",t[1]),d(n,"stroke-linecap","round"),d(n,"stroke-linejoin","round"),d(n,"vector-effect","non-scaling-stroke"),d(e,"width",t[0]),d(e,"height",t[0]),d(e,"viewBox","0 0 24 24"),d(e,"fill","none"),d(e,"xmlns","http://www.w3.org/2000/svg"),d(e,"class","chevron-svg svelte-9q6psm"),d(e,"aria-hidden","true")},m(r,s){C(r,e,s),k(e,n)},p(r,[s]){s&4&&d(n,"d",r[2]),s&2&&d(n,"stroke-width",r[1]),s&1&&d(e,"width",r[0]),s&1&&d(e,"height",r[0])},i:J,o:J,d(r){r&&y(e)}}}function V(t,e,n){return t+(e-t)*n}function Je(t,e,n){let r,s,a,l,{open:i=!1}=e,{size:f="18px"}=e,{strokeWidth:c=1.5}=e;const o=Fe(0,{duration:180,easing:je});U(t,o,p=>n(7,l=p));const g={x1:7,y1:10,x2:12,y2:15},m={x1:17,y1:10,x2:12,y2:15},v={x1:7,y1:14,x2:12,y2:9},w={x1:17,y1:14,x2:12,y2:9};return t.$$set=p=>{"open"in p&&n(4,i=p.open),"size"in p&&n(0,f=p.size),"strokeWidth"in p&&n(1,c=p.strokeWidth)},t.$$.update=()=>{t.$$.dirty&16&&o.set(i?1:0),t.$$.dirty&128&&n(6,r={x1:V(g.x1,v.x1,l),y1:V(g.y1,v.y1,l),x2:V(g.x2,v.x2,l),y2:V(g.y2,v.y2,l)}),t.$$.dirty&128&&n(5,s={x1:V(m.x1,w.x1,l),y1:V(m.y1,w.y1,l),x2:V(m.x2,w.x2,l),y2:V(m.y2,w.y2,l)}),t.$$.dirty&96&&n(2,a=`M ${r.x1} ${r.y1} L ${r.x2} ${r.y2} L ${s.x1} ${s.y1}`)},[f,c,a,o,i,s,r,l]}class Xe extends Q{constructor(e){super(),$(this,e,Je,Ke,q,{open:4,size:0,strokeWidth:1})}}function ie(t,e,n){const r=t.slice();return r[21]=e[n],r[23]=n,r}function ue(t){let e,n,r;return n=new ve({props:{name:he(t[1][t[0]]),size:"14px",class:"shrink-0"}}),{c(){e=I("span"),P(n.$$.fragment),this.h()},l(s){e=A(s,"SPAN",{class:!0});var a=D(e);B(n.$$.fragment,a),a.forEach(y),this.h()},h(){d(e,"class","dropdown-icon svelte-1snl4hd")},m(s,a){C(s,e,a),W(n,e,null),r=!0},p(s,a){const l={};a&3&&(l.name=he(s[1][s[0]])),n.$set(l)},i(s){r||(S(n.$$.fragment,s),r=!0)},o(s){T(n.$$.fragment,s),r=!1},d(s){s&&y(e),R(n)}}}function ce(t){let e,n,r,s,a,l,i,f=t[1],c=[];for(let o=0;o<f.length;o+=1)c[o]=fe(ie(t,f,o));return{c(){e=I("div");for(let o=0;o<c.length;o+=1)c[o].c();this.h()},l(o){e=A(o,"DIV",{class:!0,role:!0,style:!0});var g=D(e);for(let m=0;m<c.length;m+=1)c[m].l(g);g.forEach(y),this.h()},h(){d(e,"class","dropdown-menu svelte-1snl4hd"),d(e,"role","listbox"),d(e,"style",n=`top:${t[7]}px; right:${t[8]}px;`)},m(o,g){C(o,e,g);for(let m=0;m<c.length;m+=1)c[m].m(e,null);t[14](e),a=!0,l||(i=[Y(e,"wheel",t[11]),Y(e,"touchmove",t[12])],l=!0)},p(o,g){if(t=o,g&1027){f=t[1];let m;for(m=0;m<f.length;m+=1){const v=ie(t,f,m);c[m]?c[m].p(v,g):(c[m]=fe(v),c[m].c(),c[m].m(e,null))}for(;m<c.length;m+=1)c[m].d(1);c.length=f.length}(!a||g&384&&n!==(n=`top:${t[7]}px; right:${t[8]}px;`))&&d(e,"style",n)},i(o){a||(Se(()=>{s&&s.end(1),r=Le(e,de,{duration:300,easing:Pe}),r.start()}),a=!0)},o(o){r&&r.invalidate(),s=Te(e,de,{duration:200,easing:Be}),a=!1},d(o){o&&y(e),ze(c,o),t[14](null),o&&s&&s.end(),l=!1,Me(i)}}}function fe(t){let e,n,r,s,a,l=t[21].label+"",i,f,c,o,g,m;function v(){return t[13](t[23])}return{c(){e=I("button"),n=I("span"),s=N(),a=I("span"),i=me(l),f=N(),this.h()},l(w){e=A(w,"BUTTON",{role:!0,"aria-selected":!0,class:!0});var p=D(e);n=A(p,"SPAN",{class:!0,"aria-hidden":!0}),D(n).forEach(y),s=O(p),a=A(p,"SPAN",{class:!0});var u=D(a);i=_e(u,l),u.forEach(y),f=O(p),p.forEach(y),this.h()},h(){d(n,"class",r=H(`option-dot ${t[23]===t[0]?"bg-white":"bg-white/40"}`)+" svelte-1snl4hd"),d(n,"aria-hidden","true"),d(a,"class","option-label svelte-1snl4hd"),d(e,"role","option"),d(e,"aria-selected",c=t[23]===t[0]),d(e,"class",o=H(`dropdown-option ${t[23]===t[0]?"is-active":""}`)+" svelte-1snl4hd")},m(w,p){C(w,e,p),k(e,n),k(e,s),k(e,a),k(a,i),k(e,f),g||(m=Y(e,"click",v),g=!0)},p(w,p){t=w,p&1&&r!==(r=H(`option-dot ${t[23]===t[0]?"bg-white":"bg-white/40"}`)+" svelte-1snl4hd")&&d(n,"class",r),p&2&&l!==(l=t[21].label+"")&&ge(i,l),p&1&&c!==(c=t[23]===t[0])&&d(e,"aria-selected",c),p&1&&o!==(o=H(`dropdown-option ${t[23]===t[0]?"is-active":""}`)+" svelte-1snl4hd")&&d(e,"class",o)},d(w){w&&y(e),g=!1,m()}}}function Ze(t){var x,j;let e,n,r,s,a,l=(((x=t[1][t[0]])==null?void 0:x.label)??t[2])+"",i,f,c,o,g,m,v,w,p,u=((j=t[1][t[0]])==null?void 0:j.icon)&&ue(t);o=new Xe({props:{open:t[4],size:"18px"}});let _=t[4]&&ce(t);return{c(){e=I("div"),n=I("button"),r=I("div"),u&&u.c(),s=N(),a=I("span"),i=me(l),f=N(),c=I("span"),P(o.$$.fragment),g=N(),_&&_.c(),this.h()},l(b){e=A(b,"DIV",{class:!0});var E=D(e);n=A(E,"BUTTON",{type:!0,class:!0,"aria-haspopup":!0,"aria-expanded":!0});var z=D(n);r=A(z,"DIV",{class:!0});var M=D(r);u&&u.l(M),s=O(M),a=A(M,"SPAN",{class:!0});var h=D(a);i=_e(h,l),h.forEach(y),M.forEach(y),f=O(z),c=A(z,"SPAN",{class:!0});var L=D(c);B(o.$$.fragment,L),L.forEach(y),z.forEach(y),g=O(E),_&&_.l(E),E.forEach(y),this.h()},h(){d(a,"class","dropdown-label svelte-1snl4hd"),d(r,"class","dropdown-label-wrapper self-center svelte-1snl4hd"),d(c,"class","chevron-wrapper svelte-1snl4hd"),d(n,"type","button"),d(n,"class","dropdown-trigger svelte-1snl4hd"),d(n,"aria-haspopup","listbox"),d(n,"aria-expanded",t[4]),d(e,"class",m="dropdown-root "+(t[3]==="subtle"?"is-subtle":"")+" svelte-1snl4hd")},m(b,E){C(b,e,E),k(e,n),k(n,r),u&&u.m(r,null),k(r,s),k(r,a),k(a,i),k(n,f),k(n,c),W(o,c,null),k(e,g),_&&_.m(e,null),t[15](e),v=!0,w||(p=Y(n,"click",t[9]),w=!0)},p(b,[E]){var M,h;(M=b[1][b[0]])!=null&&M.icon?u?(u.p(b,E),E&3&&S(u,1)):(u=ue(b),u.c(),S(u,1),u.m(r,s)):u&&(X(),T(u,1,1,()=>{u=null}),Z()),(!v||E&7)&&l!==(l=(((h=b[1][b[0]])==null?void 0:h.label)??b[2])+"")&&ge(i,l);const z={};E&16&&(z.open=b[4]),o.$set(z),(!v||E&16)&&d(n,"aria-expanded",b[4]),b[4]?_?(_.p(b,E),E&16&&S(_,1)):(_=ce(b),_.c(),S(_,1),_.m(e,null)):_&&(X(),T(_,1,1,()=>{_=null}),Z()),(!v||E&8&&m!==(m="dropdown-root "+(b[3]==="subtle"?"is-subtle":"")+" svelte-1snl4hd"))&&d(e,"class",m)},i(b){v||(S(u),S(o.$$.fragment,b),S(_),v=!0)},o(b){T(u),T(o.$$.fragment,b),T(_),v=!1},d(b){b&&y(e),u&&u.d(),R(o),_&&_.d(),t[15](null),w=!1,p()}}}function de(t,{duration:e,easing:n,y:r=10,startScale:s=.98}){const a=getComputedStyle(t),l=a.transform==="none"?"":a.transform;return{delay:0,duration:e,easing:n,css:(i,f)=>{const c=Math.pow(f,5),o=Math.min(1,Math.max(0,i*1.2-.2));return`
          transform: ${l} translateY(${c*r}px) scale(${s+(1-s)*o});
          opacity: ${i};
        `}}}function he(t){return t.icon}function Ge(t,e,n){let{items:r=[]}=e,{selectedIndex:s=0}=e,{placeholder:a="Select"}=e,{variant:l="default"}=e;const i=Ae();let f=!1,c=null,o=null,g=0,m=0;function v(){if(!c)return;const h=c.getBoundingClientRect();n(7,g=h.bottom+8),n(8,m=Math.max(window.innerWidth-h.right,8))}function w(){n(4,f=!f),f&&v()}function p(){n(4,f=!1)}function u(h){n(0,s=h),i("select",{index:h}),p()}function _(h){if(!f&&(h.key==="Enter"||h.key===" "||h.key==="ArrowDown")){h.preventDefault(),n(4,f=!0);return}if(f){if(h.key==="Escape")h.preventDefault(),p();else if(h.key==="ArrowDown"){h.preventDefault();const L=Math.min(s+1,r.length-1);u(L)}else if(h.key==="ArrowUp"){h.preventDefault();const L=Math.max(s-1,0);u(L)}}}function x(h){if(!c)return;const L=h.target;c.contains(L)||p()}function j(h){if(!o)return;const{scrollTop:L,scrollHeight:F,clientHeight:K}=o,we=L===0,be=L+K>=F,ye=h.deltaY<0,ke=h.deltaY>0;ye&&!we||ke&&!be||h.preventDefault()}function b(h){if(!o)return;const{scrollTop:L,scrollHeight:F,clientHeight:K}=o;F>K||h.preventDefault()}xe(()=>(document.addEventListener("click",x),document.addEventListener("keydown",_),window.addEventListener("resize",v),window.addEventListener("scroll",v,!0),()=>{document.removeEventListener("click",x),document.removeEventListener("keydown",_),window.removeEventListener("resize",v),window.removeEventListener("scroll",v,!0)}));const E=h=>u(h);function z(h){se[h?"unshift":"push"](()=>{o=h,n(6,o)})}function M(h){se[h?"unshift":"push"](()=>{c=h,n(5,c)})}return t.$$set=h=>{"items"in h&&n(1,r=h.items),"selectedIndex"in h&&n(0,s=h.selectedIndex),"placeholder"in h&&n(2,a=h.placeholder),"variant"in h&&n(3,l=h.variant)},[s,r,a,l,f,c,o,g,m,w,u,j,b,E,z,M]}class Qe extends Q{constructor(e){super(),$(this,e,Ge,Ze,q,{items:1,selectedIndex:0,placeholder:2,variant:3})}}function pe(t){let e,n,r,s;const a=t[5].default,l=Ce(a,t,t[4],null);return r=new He({}),{c(){e=I("div"),l&&l.c(),n=N(),P(r.$$.fragment),this.h()},l(i){e=A(i,"DIV",{class:!0});var f=D(e);l&&l.l(f),n=O(f),B(r.$$.fragment,f),f.forEach(y),this.h()},h(){d(e,"class","flex flex-col mx-auto w-screen max-w-screen-2xl px-5 md:px-[2.5rem] xl:px-[5rem] pt-20 md:pt-24 space-y-8")},m(i,f){C(i,e,f),l&&l.m(e,null),k(e,n),W(r,e,null),s=!0},p(i,f){l&&l.p&&(!s||f&16)&&Ne(l,a,i,i[4],s?Ve(a,i[4],f,null):Oe(i[4]),null)},i(i){s||(S(l,i),S(r.$$.fragment,i),s=!0)},o(i){T(l,i),T(r.$$.fragment,i),s=!1},d(i){i&&y(e),l&&l.d(i),R(r)}}}function $e(t){let e,n,r,s,a,l,i,f,c,o,g,m=t[2].url.pathname,v,w;i=new ve({props:{name:"arrow-left",size:"1em",class:"text-white"}}),o=new Qe({props:{items:t[0],selectedIndex:t[1],placeholder:"Sections",variant:"subtle"}}),o.$on("select",t[6]);let p=pe(t);return{c(){e=I("nav"),n=I("div"),r=N(),s=I("div"),a=I("div"),l=I("a"),P(i.$$.fragment),f=N(),c=I("div"),P(o.$$.fragment),g=N(),p.c(),v=re(),this.h()},l(u){e=A(u,"NAV",{class:!0});var _=D(e);n=A(_,"DIV",{class:!0}),D(n).forEach(y),r=O(_),s=A(_,"DIV",{class:!0});var x=D(s);a=A(x,"DIV",{class:!0});var j=D(a);l=A(j,"A",{href:!0,"aria-label":!0,class:!0});var b=D(l);B(i.$$.fragment,b),b.forEach(y),j.forEach(y),f=O(x),c=A(x,"DIV",{class:!0});var E=D(c);B(o.$$.fragment,E),E.forEach(y),x.forEach(y),_.forEach(y),g=O(u),p.l(u),v=re(),this.h()},h(){d(n,"class","absolute inset-x-0 top-0 h-28 md:h-32 bg-gradient-to-b from-background via-background/80 to-transparent pointer-events-none"),d(l,"href","/essays"),d(l,"aria-label","Back to essays"),d(l,"class","p-2 -ml-2"),d(a,"class","flex flex-row items-center space-x-2 md:space-x-3 pointer-events-auto"),d(c,"class","flex items-center pointer-events-auto"),d(s,"class","relative z-10 flex flex-row justify-between items-center mx-auto w-full max-w-screen-2xl px-5 md:px-[2.5rem] xl:px-[5rem] h-16 md:h-20"),d(e,"class","w-full fixed top-0 z-50 bg-transparent pointer-events-none")},m(u,_){C(u,e,_),k(e,n),k(e,r),k(e,s),k(s,a),k(a,l),W(i,l,null),k(s,f),k(s,c),W(o,c,null),C(u,g,_),p.m(u,_),C(u,v,_),w=!0},p(u,[_]){const x={};_&1&&(x.items=u[0]),_&2&&(x.selectedIndex=u[1]),o.$set(x),_&4&&q(m,m=u[2].url.pathname)?(X(),T(p,1,1,J),Z(),p=pe(u),p.c(),S(p,1),p.m(v.parentNode,v)):p.p(u,_)},i(u){w||(S(i.$$.fragment,u),S(o.$$.fragment,u),S(p),w=!0)},o(u){T(i.$$.fragment,u),T(o.$$.fragment,u),T(p),w=!1},d(u){u&&y(e),R(i),R(o),u&&y(g),u&&y(v),p.d(u)}}}function et(t,e,n){let r,s,a;U(t,le,o=>n(0,r=o)),U(t,oe,o=>n(1,s=o)),U(t,We,o=>n(2,a=o));let{$$slots:l={},$$scope:i}=e;function f(o){oe.set(o),le.subscribe(async m=>{const v=m[o];v&&await Ue(async()=>{const w=Ye({spacing:"lg"});await qe(`#${v.id}`,{duration:600,ease:"out-expo",offset:w})})})()}const c=o=>f(o.detail.index);return t.$$set=o=>{"$$scope"in o&&n(4,i=o.$$scope)},[r,s,a,f,i,l,c]}class ut extends Q{constructor(e){super(),$(this,e,et,$e,q,{})}}export{ut as default};

import{$ as Q,a4 as be,a5 as ye,D as ke,S as Z,i as G,s as R,Z as $,_ as ee,m as x,h as y,n as c,b as S,F as E,C as Y,E as P,k as D,q as fe,a as z,x as q,l as A,r as de,c as C,y as K,z as F,H as W,u as he,f as T,g as pe,t as O,d as me,A as J,a6 as Ee,o as xe,I as De,J as Ae,K as Ie,R as Le,L as Se,a7 as B,v as te,e as ne,a3 as Te,V as Me,W as ze,X as Ce,Y as Oe}from"../../../../chunks/index-8f0f7409.js";import{c as Ve,e as je,a as Ne}from"../../../../chunks/index-fbc55810.js";import{p as Be}from"../../../../chunks/stores-d312e69d.js";import{I as Pe}from"../../../../chunks/Icon-f7908583.js";import{w as We}from"../../../../chunks/index-941f7fbc.js";import{s as se,a as re,w as Re}from"../../../../chunks/essayNav-4f34ebeb.js";import{g as He,r as Ue}from"../../../../chunks/reliableScroll-09e90851.js";function oe(e){return Object.prototype.toString.call(e)==="[object Date]"}function X(e,t){if(e===t||e!==e)return()=>e;const n=typeof e;if(n!==typeof t||Array.isArray(e)!==Array.isArray(t))throw new Error("Cannot interpolate values of different type");if(Array.isArray(e)){const r=t.map((s,o)=>X(e[o],s));return s=>r.map(o=>o(s))}if(n==="object"){if(!e||!t)throw new Error("Object cannot be null");if(oe(e)&&oe(t)){e=e.getTime(),t=t.getTime();const o=t-e;return a=>new Date(e+a*o)}const r=Object.keys(t),s={};return r.forEach(o=>{s[o]=X(e[o],t[o])}),o=>{const a={};return r.forEach(m=>{a[m]=s[m](o)}),a}}if(n==="number"){const r=t-e;return s=>e+s*r}throw new Error(`Cannot interpolate ${n} values`)}function Ye(e,t={}){const n=We(e);let r,s=e;function o(a,m){if(e==null)return n.set(e=a),Promise.resolve();s=a;let i=r,u=!1,{delay:l=0,duration:h=400,easing:f=ke,interpolate:b=X}=Q(Q({},t),m);if(h===0)return i&&(i.abort(),i=null),n.set(e=s),Promise.resolve();const p=be()+l;let g;return r=ye(v=>{if(v<p)return!0;u||(g=b(e,a),typeof h=="function"&&(h=h(e,a)),u=!0),i&&(i.abort(),i=null);const w=v-p;return w>h?(n.set(e=a),!1):(n.set(e=g(f(w/h))),!0)}),r.promise}return{set:o,update:(a,m)=>o(a(s,e),m),subscribe:n.subscribe}}function qe(e){let t,n;return{c(){t=$("svg"),n=$("path"),this.h()},l(r){t=ee(r,"svg",{width:!0,height:!0,viewBox:!0,fill:!0,xmlns:!0,class:!0,"aria-hidden":!0});var s=x(t);n=ee(s,"path",{d:!0,fill:!0,stroke:!0,"stroke-width":!0,"stroke-linecap":!0,"stroke-linejoin":!0,"vector-effect":!0}),x(n).forEach(y),s.forEach(y),this.h()},h(){c(n,"d",e[2]),c(n,"fill","none"),c(n,"stroke","currentColor"),c(n,"stroke-width",e[1]),c(n,"stroke-linecap","round"),c(n,"stroke-linejoin","round"),c(n,"vector-effect","non-scaling-stroke"),c(t,"width",e[0]),c(t,"height",e[0]),c(t,"viewBox","0 0 24 24"),c(t,"fill","none"),c(t,"xmlns","http://www.w3.org/2000/svg"),c(t,"class","chevron-svg svelte-9q6psm"),c(t,"aria-hidden","true")},m(r,s){S(r,t,s),E(t,n)},p(r,[s]){s&4&&c(n,"d",r[2]),s&2&&c(n,"stroke-width",r[1]),s&1&&c(t,"width",r[0]),s&1&&c(t,"height",r[0])},i:Y,o:Y,d(r){r&&y(t)}}}function M(e,t,n){return e+(t-e)*n}function Ke(e,t,n){let r,s,o,a,{open:m=!1}=t,{size:i="18px"}=t,{strokeWidth:u=1.5}=t;const l=Ye(0,{duration:180,easing:Ve});P(e,l,g=>n(7,a=g));const h={x1:7,y1:10,x2:12,y2:15},f={x1:17,y1:10,x2:12,y2:15},b={x1:7,y1:14,x2:12,y2:9},p={x1:17,y1:14,x2:12,y2:9};return e.$$set=g=>{"open"in g&&n(4,m=g.open),"size"in g&&n(0,i=g.size),"strokeWidth"in g&&n(1,u=g.strokeWidth)},e.$$.update=()=>{e.$$.dirty&16&&l.set(m?1:0),e.$$.dirty&128&&n(6,r={x1:M(h.x1,b.x1,a),y1:M(h.y1,b.y1,a),x2:M(h.x2,b.x2,a),y2:M(h.y2,b.y2,a)}),e.$$.dirty&128&&n(5,s={x1:M(f.x1,p.x1,a),y1:M(f.y1,p.y1,a),x2:M(f.x2,p.x2,a),y2:M(f.y2,p.y2,a)}),e.$$.dirty&96&&n(2,o=`M ${r.x1} ${r.y1} L ${r.x2} ${r.y2} L ${s.x1} ${s.y1}`)},[i,u,o,l,m,s,r,a]}class Fe extends Z{constructor(t){super(),G(this,t,Ke,qe,R,{open:4,size:0,strokeWidth:1})}}function le(e,t,n){const r=e.slice();return r[21]=t[n],r[23]=n,r}function ae(e){let t,n,r,s,o,a,m,i=e[1],u=[];for(let l=0;l<i.length;l+=1)u[l]=ie(le(e,i,l));return{c(){t=D("div");for(let l=0;l<u.length;l+=1)u[l].c();this.h()},l(l){t=A(l,"DIV",{class:!0,role:!0,style:!0});var h=x(t);for(let f=0;f<u.length;f+=1)u[f].l(h);h.forEach(y),this.h()},h(){c(t,"class","dropdown-menu svelte-7ge1nr"),c(t,"role","listbox"),c(t,"style",n=`top:${e[7]}px; right:${e[8]}px;`)},m(l,h){S(l,t,h);for(let f=0;f<u.length;f+=1)u[f].m(t,null);e[14](t),o=!0,a||(m=[W(t,"wheel",e[11]),W(t,"touchmove",e[12])],a=!0)},p(l,h){if(e=l,h&1027){i=e[1];let f;for(f=0;f<i.length;f+=1){const b=le(e,i,f);u[f]?u[f].p(b,h):(u[f]=ie(b),u[f].c(),u[f].m(t,null))}for(;f<u.length;f+=1)u[f].d(1);u.length=i.length}(!o||h&384&&n!==(n=`top:${e[7]}px; right:${e[8]}px;`))&&c(t,"style",n)},i(l){o||(De(()=>{s&&s.end(1),r=Ae(t,ue,{duration:300,easing:je}),r.start()}),o=!0)},o(l){r&&r.invalidate(),s=Ie(t,ue,{duration:200,easing:Ne}),o=!1},d(l){l&&y(t),Le(u,l),e[14](null),l&&s&&s.end(),a=!1,Se(m)}}}function ie(e){let t,n,r,s,o,a=e[21].label+"",m,i,u,l,h,f;function b(){return e[13](e[23])}return{c(){t=D("button"),n=D("span"),s=z(),o=D("span"),m=fe(a),i=z(),this.h()},l(p){t=A(p,"BUTTON",{role:!0,"aria-selected":!0,class:!0});var g=x(t);n=A(g,"SPAN",{class:!0,"aria-hidden":!0}),x(n).forEach(y),s=C(g),o=A(g,"SPAN",{class:!0});var v=x(o);m=de(v,a),v.forEach(y),i=C(g),g.forEach(y),this.h()},h(){c(n,"class",r=B(`option-dot ${e[23]===e[0]?"bg-white":"bg-white/40"}`)+" svelte-7ge1nr"),c(n,"aria-hidden","true"),c(o,"class","option-label svelte-7ge1nr"),c(t,"role","option"),c(t,"aria-selected",u=e[23]===e[0]),c(t,"class",l=B(`dropdown-option ${e[23]===e[0]?"is-active":""}`)+" svelte-7ge1nr")},m(p,g){S(p,t,g),E(t,n),E(t,s),E(t,o),E(o,m),E(t,i),h||(f=W(t,"click",b),h=!0)},p(p,g){e=p,g&1&&r!==(r=B(`option-dot ${e[23]===e[0]?"bg-white":"bg-white/40"}`)+" svelte-7ge1nr")&&c(n,"class",r),g&2&&a!==(a=e[21].label+"")&&he(m,a),g&1&&u!==(u=e[23]===e[0])&&c(t,"aria-selected",u),g&1&&l!==(l=B(`dropdown-option ${e[23]===e[0]?"is-active":""}`)+" svelte-7ge1nr")&&c(t,"class",l)},d(p){p&&y(t),h=!1,f()}}}function Je(e){var g;let t,n,r,s=(((g=e[1][e[0]])==null?void 0:g.label)??e[2])+"",o,a,m,i,u,l,h,f,b;i=new Fe({props:{open:e[4],size:"18px"}});let p=e[4]&&ae(e);return{c(){t=D("div"),n=D("button"),r=D("span"),o=fe(s),a=z(),m=D("span"),q(i.$$.fragment),u=z(),p&&p.c(),this.h()},l(v){t=A(v,"DIV",{class:!0});var w=x(t);n=A(w,"BUTTON",{type:!0,class:!0,"aria-haspopup":!0,"aria-expanded":!0});var _=x(n);r=A(_,"SPAN",{class:!0});var k=x(r);o=de(k,s),k.forEach(y),a=C(_),m=A(_,"SPAN",{class:!0});var I=x(m);K(i.$$.fragment,I),I.forEach(y),_.forEach(y),u=C(w),p&&p.l(w),w.forEach(y),this.h()},h(){c(r,"class","dropdown-label svelte-7ge1nr"),c(m,"class","chevron-wrapper svelte-7ge1nr"),c(n,"type","button"),c(n,"class","dropdown-trigger svelte-7ge1nr"),c(n,"aria-haspopup","listbox"),c(n,"aria-expanded",e[4]),c(t,"class",l="dropdown-root "+(e[3]==="subtle"?"is-subtle":"")+" svelte-7ge1nr")},m(v,w){S(v,t,w),E(t,n),E(n,r),E(r,o),E(n,a),E(n,m),F(i,m,null),E(t,u),p&&p.m(t,null),e[15](t),h=!0,f||(b=W(n,"click",e[9]),f=!0)},p(v,[w]){var k;(!h||w&7)&&s!==(s=(((k=v[1][v[0]])==null?void 0:k.label)??v[2])+"")&&he(o,s);const _={};w&16&&(_.open=v[4]),i.$set(_),(!h||w&16)&&c(n,"aria-expanded",v[4]),v[4]?p?(p.p(v,w),w&16&&T(p,1)):(p=ae(v),p.c(),T(p,1),p.m(t,null)):p&&(pe(),O(p,1,1,()=>{p=null}),me()),(!h||w&8&&l!==(l="dropdown-root "+(v[3]==="subtle"?"is-subtle":"")+" svelte-7ge1nr"))&&c(t,"class",l)},i(v){h||(T(i.$$.fragment,v),T(p),h=!0)},o(v){O(i.$$.fragment,v),O(p),h=!1},d(v){v&&y(t),J(i),p&&p.d(),e[15](null),f=!1,b()}}}function ue(e,{duration:t,easing:n,y:r=10,startScale:s=.98}){const o=getComputedStyle(e),a=o.transform==="none"?"":o.transform;return{delay:0,duration:t,easing:n,css:(m,i)=>{const u=Math.pow(i,5),l=Math.min(1,Math.max(0,m*1.2-.2));return`
          transform: ${a} translateY(${u*r}px) scale(${s+(1-s)*l});
          opacity: ${m};
        `}}}function Xe(e,t,n){let{items:r=[]}=t,{selectedIndex:s=0}=t,{placeholder:o="Select"}=t,{variant:a="default"}=t;const m=Ee();let i=!1,u=null,l=null,h=0,f=0;function b(){if(!u)return;const d=u.getBoundingClientRect();n(7,h=d.bottom+8),n(8,f=Math.max(window.innerWidth-d.right,8))}function p(){n(4,i=!i),i&&b()}function g(){n(4,i=!1)}function v(d){n(0,s=d),m("select",{index:d}),g()}function w(d){if(!i&&(d.key==="Enter"||d.key===" "||d.key==="ArrowDown")){d.preventDefault(),n(4,i=!0);return}if(i){if(d.key==="Escape")d.preventDefault(),g();else if(d.key==="ArrowDown"){d.preventDefault();const L=Math.min(s+1,r.length-1);v(L)}else if(d.key==="ArrowUp"){d.preventDefault();const L=Math.max(s-1,0);v(L)}}}function _(d){if(!u)return;const L=d.target;u.contains(L)||g()}function k(d){if(!l)return;const{scrollTop:L,scrollHeight:H,clientHeight:U}=l,_e=L===0,ge=L+U>=H,ve=d.deltaY<0,we=d.deltaY>0;ve&&!_e||we&&!ge||d.preventDefault()}function I(d){if(!l)return;const{scrollTop:L,scrollHeight:H,clientHeight:U}=l;H>U||d.preventDefault()}xe(()=>(document.addEventListener("click",_),document.addEventListener("keydown",w),window.addEventListener("resize",b),window.addEventListener("scroll",b,!0),()=>{document.removeEventListener("click",_),document.removeEventListener("keydown",w),window.removeEventListener("resize",b),window.removeEventListener("scroll",b,!0)}));const V=d=>v(d);function j(d){te[d?"unshift":"push"](()=>{l=d,n(6,l)})}function N(d){te[d?"unshift":"push"](()=>{u=d,n(5,u)})}return e.$$set=d=>{"items"in d&&n(1,r=d.items),"selectedIndex"in d&&n(0,s=d.selectedIndex),"placeholder"in d&&n(2,o=d.placeholder),"variant"in d&&n(3,a=d.variant)},[s,r,o,a,i,u,l,h,f,p,v,k,I,V,j,N]}class Ze extends Z{constructor(t){super(),G(this,t,Xe,Je,R,{items:1,selectedIndex:0,placeholder:2,variant:3})}}function ce(e){let t,n;const r=e[5].default,s=Me(r,e,e[4],null);return{c(){t=D("div"),s&&s.c(),this.h()},l(o){t=A(o,"DIV",{class:!0});var a=x(t);s&&s.l(a),a.forEach(y),this.h()},h(){c(t,"class","flex flex-col mx-auto w-screen max-w-screen-2xl px-5 md:px-[2.5rem] xl:px-[5rem] pt-16 md:pt-20")},m(o,a){S(o,t,a),s&&s.m(t,null),n=!0},p(o,a){s&&s.p&&(!n||a&16)&&ze(s,r,o,o[4],n?Oe(r,o[4],a,null):Ce(o[4]),null)},i(o){n||(T(s,o),n=!0)},o(o){O(s,o),n=!1},d(o){o&&y(t),s&&s.d(o)}}}function Ge(e){let t,n,r,s,o,a,m,i,u,l,h,f,b,p=e[2].url.pathname,g,v;u=new Pe({props:{name:"arrow-left",size:"1em",class:"text-white"}}),f=new Ze({props:{items:e[0],selectedIndex:e[1],placeholder:"Sections",variant:"subtle"}}),f.$on("select",e[6]);let w=ce(e);return{c(){t=D("meta"),n=z(),r=D("nav"),s=D("div"),o=z(),a=D("div"),m=D("div"),i=D("a"),q(u.$$.fragment),l=z(),h=D("div"),q(f.$$.fragment),b=z(),w.c(),g=ne(),this.h()},l(_){const k=Te("svelte-1yt0nln",document.head);t=A(k,"META",{name:!0,content:!0}),k.forEach(y),n=C(_),r=A(_,"NAV",{class:!0});var I=x(r);s=A(I,"DIV",{class:!0}),x(s).forEach(y),o=C(I),a=A(I,"DIV",{class:!0});var V=x(a);m=A(V,"DIV",{class:!0});var j=x(m);i=A(j,"A",{href:!0,"aria-label":!0,class:!0});var N=x(i);K(u.$$.fragment,N),N.forEach(y),j.forEach(y),l=C(V),h=A(V,"DIV",{class:!0});var d=x(h);K(f.$$.fragment,d),d.forEach(y),V.forEach(y),I.forEach(y),b=C(_),w.l(_),g=ne(),this.h()},h(){c(t,"name","robots"),c(t,"content","noindex, nofollow, noarchive, noimageindex"),c(s,"class","absolute inset-x-0 top-0 h-28 md:h-32 bg-gradient-to-b from-background via-background/80 to-transparent pointer-events-none"),c(i,"href","/essays"),c(i,"aria-label","Back to essays"),c(i,"class","p-2 -ml-2"),c(m,"class","flex flex-row items-center space-x-2 md:space-x-3 pointer-events-auto"),c(h,"class","flex items-center pointer-events-auto"),c(a,"class","relative z-10 flex flex-row justify-between items-center mx-auto w-full max-w-screen-2xl px-5 md:px-[2.5rem] xl:px-[5rem] h-16 md:h-20"),c(r,"class","w-full fixed top-0 z-50 bg-transparent pointer-events-none")},m(_,k){E(document.head,t),S(_,n,k),S(_,r,k),E(r,s),E(r,o),E(r,a),E(a,m),E(m,i),F(u,i,null),E(a,l),E(a,h),F(f,h,null),S(_,b,k),w.m(_,k),S(_,g,k),v=!0},p(_,[k]){const I={};k&1&&(I.items=_[0]),k&2&&(I.selectedIndex=_[1]),f.$set(I),k&4&&R(p,p=_[2].url.pathname)?(pe(),O(w,1,1,Y),me(),w=ce(_),w.c(),T(w,1),w.m(g.parentNode,g)):w.p(_,k)},i(_){v||(T(u.$$.fragment,_),T(f.$$.fragment,_),T(w),v=!0)},o(_){O(u.$$.fragment,_),O(f.$$.fragment,_),O(w),v=!1},d(_){y(t),_&&y(n),_&&y(r),J(u),J(f),_&&y(b),_&&y(g),w.d(_)}}}function Qe(e,t,n){let r,s,o;P(e,re,l=>n(0,r=l)),P(e,se,l=>n(1,s=l)),P(e,Be,l=>n(2,o=l));let{$$slots:a={},$$scope:m}=t;function i(l){se.set(l),re.subscribe(async f=>{const b=f[l];b&&await Re(async()=>{const p=He({spacing:"md"});await Ue(`#${b.id}`,{duration:600,ease:"out-expo",offset:p})})})()}const u=l=>i(l.detail.index);return e.$$set=l=>{"$$scope"in l&&n(4,m=l.$$scope)},[r,s,o,i,m,a,u]}class lt extends Z{constructor(t){super(),G(this,t,Qe,Ge,R,{})}}export{lt as default};
